{"version":3,"sources":["src/js/main.js","../../src/js/breakpoint/media-matcher.js","../../src/js/breakpoint/breakpoint.service.js","../../src/js/storage/storage.service.js","../../src/js/storage/session-storage.service.js","../../src/js/cover/cover.service.js","../../src/js/app.component.js","../../src/js/intersection/intersection.service.js","../../src/js/appear/appear-stagger.directive.js","../../src/js/appear/appear.directive.js","../../src/js/environment.js","../../src/js/http/http.service.js","../../src/js/storage/cookie-storage.service.js","../../src/js/api/api.service.js","../../src/js/storage/local-storage.service.js","../../src/js/user/user.service.js","../../src/js/auth/auth-forgot.component.js","../../src/js/modal/modal.service.js","../../src/js/modal/modal-outlet.component.js","../../src/js/auth/auth.component.js","../../src/js/auth/auth-modal.component.js","../../src/js/auth/auth-signin.component.js","../../src/js/auth/auth-signup.component.js","../../src/js/click-outside/click-outside.directive.js","../../src/js/dropdown/dropdown.directive.js","../../src/js/dropdown/dropdown-item.directive.js","../../src/js/forms/control.component.js","../../src/js/forms/control-checkbox.component.js","../../src/js/keyboard/keyboard.service.js","../../src/js/forms/control-custom-select.component.js","../../src/js/forms/control-password.component.js","../../src/js/forms/control-text.component.js","../../src/js/forms/control-textarea.component.js","../../src/js/forms/errors.component.js","../../src/js/css/css.service.js","../../src/js/header/header.component.js","../../src/js/html/html.pipe.js","../../src/js/modal/modal.component.js","../../src/js/scroll-to/scroll-to.directive.js","../../src/js/download/download.service.js","../../src/js/secure/secure.directive.js","../../src/js/share/share.component.js","../../src/js/drag/drag.service.js","../../src/js/slider/slider.component.js","../../src/js/slider/slider-case-study.component.js","../../src/js/slider/slider-hero.component.js","../../src/js/slug/slug.pipe.js","../../src/js/virtual/virtual.item.js","../../src/js/virtual/virtual.structure.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["g","f","exports","module","require","define","amd","globalThis","self","rxcomp","form","rxjs","operators","this","rxcompForm","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_defineProperty","obj","value","_inheritsLoose","subClass","superClass","create","constructor","__proto__","mediaQueryStyleNode","EDGE","test","navigator","userAgent","TRIDENT","BLINK","window","chrome","CSS","WEBKIT","mediaQueriesForWebkitCompatibility","Set","MediaMatcher","matchMedia","query","createEmptyStyleRule","_matchMedia","has","document","createElement","setAttribute","head","appendChild","sheet","insertRule","add","e","console","error","bind","matches","media","addListener","removeListener","BreakpointService","observe$","_this","queries","assign","queries$_","keys","forEach","group","split","map","trim","push","registerQuery$_","query$","combineLatest","apply","concat","pipe","take","skip","debounceTime","breakpoints","response","b","match","reduce","p","c","undefined","queries_","get","set","mediaQueryList","output","Observable","observer","handler","next","startWith","nextMediaQueryList","splitQueries","a1","a2","StorageService","encode","decoded","Serializer","encodeJson","encodeURIComponent","encodeBase64","decode","encoded","decodeBase64","decodeURIComponent","decodeJson","isSupported","type","storage","flag","WINDOW","x","setItem","removeItem","DOMException","code","name","Boolean","SessionStorageService","_StorageService","arguments","clear","sessionStorage","items$","toArray","delete","exist","getItem","getRaw","setRaw","toRawArray","_this2","supported","ReplaySubject","CoverService","isIndex","indexOf","location","pathname","shouldShowCover","showCover","AppComponent","_Component","_proto","onInit","getContext","node","classList","remove","isMobile","takeUntil","unsubscribe$","subscribe","results","log","pushChanges","onSkipCover","event","onMenuToggle","opened","Component","meta","selector","IntersectionService","observer_","readySubject_","BehaviorSubject","observerSubject_","Subject","IntersectionObserver","entries","intersection$","observe","find","entry","filter","finalize","unobserve","of","isIntersecting","firstIntersection$","first","AppearStaggerDirective","_Directive","onChanges","appeared","src","Directive","AppearDirective","NODE","BASE_HREF","URLSearchParams","search","querySelector","getAttribute","STATIC","port","host","DEVELOPMENT","ENV","NAME","PRODUCTION","RESOURCE","STATIC_RESOURCE","API","STATIC_API","getApiUrl","url","useStatic","Environment","options","replace","substr","protocol","HttpResponse","data","status","statusText","ok","redirected","HttpService","http$","method","format","methods","response_","qstring","encodeURI","join","from","fetch","headers","Accept","Content-Type","body","JSON","stringify","then","json","Promise","resolve","reject","catchError","throwError","getError","get$","delete$","post$","put$","patch$","object","statusCode","statusMessage","CookieStorageService","setter","cookie","days","items","expires","date","Date","setTime","getTime","toUTCString","ApiService","_HttpService","call","staticGet$","staticDelete$","staticPost$","staticPut$","staticPatch$","LocalStorageService","localStorage","User","firstName","toUpperCase","lastName","UserService","getCurrentUser","user$_","getValue","setUser","user","me$","mapUser","static","switchMap","register$","payload","mapStatic__","login$","_this3","logout$","_this4","retrieve$","_this5","isStatic","action","fake","mapUsers","users","AuthForgotComponent","FormGroup","email","FormControl","Validators","RequiredValidator","EmailValidator","checkRequest","antiforgery","checkField","controls","changes$","changes","success","patch","reset","onSubmit","valid","submitted","sent","touched","onLogin","login","onRegister","register","outputs","ModalEvent","ModalResolveEvent","_ModalEvent","ModalRejectEvent","_ModalEvent2","ModalService","open$","modal","getTemplate$","template","getNode","tap","modal$","events$","load$","text","div","innerHTML","firstElementChild","ModalOutletComponent","modalNode","modal_","removeChild","compile","AuthComponent","views","SIGN_IN","SIGN_UP","FORGOTTEN","view","hasAttribute","parseInt","onForgot","onSignIn","href","auth","onSignUp","onForgottenSent","inputs","AuthModalComponent","_AuthComponent","parentInstance","close","AuthSigninComponent","password","signIn","forgot","AuthSignupComponent","roles","countries","company","role","country","newsletter","privacy","formaction","id","dataLayer","form type","ClickOutsideDirective","initialFocus","_getContext","event$","fromEvent","contains","shareReplay","expression","outputFunction","makeFunction","clickOutside$","DROPDOWN_ID","DropdownDirective","trigger","onClick","onDocumentClick","openDropdown","closeDropdown","addListeners","dropdown$","addDocumentListeners","dropped","removeDocumentListeners","addEventListener","removeListeners","removeEventListener","onDestroy","nextId","dropdown","id_","DropdownItemDirective","ControlComponent","flags","control","ControlCheckboxComponent","_ControlComponent","label","KeyboardService","keydown$","keyup$","typing$","to","typing","key$","clearTimeout","setTimeout","regexp","ControlCustomSelectComponent","labels","dropdownId","word","scrollToWord","index","toLowerCase","item","children","scrollTo","offsetTop","setOption","isMultiple","splice","slice","hasOption","onDropped","getLabel","v","select","$event","multiple","ControlPasswordComponent","required","ControlTextComponent","ControlTextareaComponent","ErrorsComponent","CssService","height$","style","documentElement","innerHeight","height","vh","setProperty","HeaderComponent","mainActive","onMainToggle","Array","querySelectorAll","gsap","opacity","duration","stagger","each","ease","Power3","easeOut","toggle","onOpenSub","subId","onCloseSub","isSubOpen","isPrimaryHidden","HtmlPipe","_Pipe","transform","m","n","String","fromCharCode","unescapes","rx","RegExp","Pipe","ModalComponent","ScrollToDirective","scrollTo$","_getContext2","result","currentTop","getBoundingClientRect","top","o","pow","html","scroll-behavior","Math","abs","Quad","overwrite","onUpdate","onComplete","pageYOffset","scrollTop","DownloadService","download","blob","fileName","URL","createObjectURL","a","click","revokeObjectURL","a_","SecureDirective","preventDefault","tryDownloadHref","pop","ShareComponent","share","title","getTitle","getUrl","origin","charCodeAt","toString","DragPoint","y","DragEvent","DragDownEvent","_DragEvent","distance","strength","speed","DragMoveEvent","_DragEvent2","DragUpEvent","_DragEvent3","DragService","getPosition","point","MouseEvent","clientX","clientY","TouchEvent","touches","pageX","pageY","down$","downEvent","merge","originalEvent","down","move$","dismiss$","moveEvent","position","innerWidth","up$","upEvent","stopImmediatePropagation","SliderComponent","container","wrapper","userGesture$","slider$","autoplay$","translation","dragDownEvent","dragMoveEvent","getTranslation","onDragMoveEvent","onDragUpEvent","autoplay","interval","current","transformX","width","offsetWidth","hasNext","navTo","hasPrev","z","coords","parseFloat","offsetHeight","items_","state","change","state_","SliderCaseStudyComponent","_SliderComponent","resize$","changed$","setActiveState","raf$","animationFrameScheduler","mouse$","mouseEvent","pagination$","pagination","datas","mouse","direction","click$","slide","onContentOver","onContentOut","slideWidth","direction_","SliderHeroComponent","SlugPipe","VirtualItem","$key","$value","count","_Context","even","Context","VirtualMode","VirtualStructure","_Structure","removeAttribute","tokens","getExpressionTokens","virtualFunction","iterable","mode","gutter","containerWidth","containerHeight","cols","strategy","cachedRects","cachedInstances","cacheNodes","update$","visibleItems","context","updateView","scroll$","total","highestHeight","getWidth","getGutter","col","left","bottom","rect","getCol","getHeight","intersect","getLeft","cachedNode","max","removeNode","removeIndex","getCols","floor","fill","updateNode","createNode","clonedNode","cloneNode","rxcompId","args","instance","makeInstance","forItemContext","parentNode","top1","bottom1","top2","bottom2","auditTime","Error","expressions","virtualExpressions","keyValueMatches","indexExpressions","Structure","AppModule","_Module","Module","imports","CoreModule","FormModule","declarations","bootstrap","Browser"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"const EDGE = /(edge)/i.test(navigator.userAgent);\r\nconst TRIDENT = /(msie|trident)/i.test(navigator.userAgent);\r\nconst BLINK = (!!((window).chrome) && typeof CSS !== 'undefined' && !EDGE && !TRIDENT);\r\nconst WEBKIT = /AppleWebKit/i.test(navigator.userAgent) && !BLINK && !EDGE && !TRIDENT;\r\nconst IOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !('MSStream' in window);\r\nconst FIREFOX = /(firefox|minefield)/i.test(navigator.userAgent);\r\nconst ANDROID = /android/i.test(navigator.userAgent) && !TRIDENT;\r\nconst SAFARI = /safari/i.test(navigator.userAgent) && WEBKIT;\r\n\r\nconst mediaQueriesForWebkitCompatibility = new Set();\r\n\r\nlet mediaQueryStyleNode;\r\n\r\nexport class MediaMatcher {\r\n\r\n\tstatic matchMedia(query) {\r\n\t\tif (WEBKIT) {\r\n\t\t\tthis.createEmptyStyleRule(query);\r\n\t\t}\r\n\t\treturn this._matchMedia(query);\r\n\t}\r\n\r\n\tstatic createEmptyStyleRule(query) {\r\n\t\tif (mediaQueriesForWebkitCompatibility.has(query)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif (!mediaQueryStyleNode) {\r\n\t\t\t\tmediaQueryStyleNode = document.createElement('style');\r\n\t\t\t\tmediaQueryStyleNode.setAttribute('type', 'text/css');\r\n\t\t\t\tif (document.head) {\r\n\t\t\t\t\tdocument.head.appendChild(mediaQueryStyleNode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (mediaQueryStyleNode.sheet) {\r\n\t\t\t\t(mediaQueryStyleNode.sheet)\r\n\t\t\t\t.insertRule(`@media ${query} {.fx-query-test{ }}`, 0);\r\n\t\t\t\tmediaQueriesForWebkitCompatibility.add(query);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.error(e);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction noopMatchMedia(query) {\r\n\treturn {\r\n\t\tmatches: query === 'all' || query === '',\r\n\t\tmedia: query,\r\n\t\taddListener: () => {},\r\n\t\tremoveListener: () => {}\r\n\t};\r\n}\r\n\r\nMediaMatcher._matchMedia = window.matchMedia ? window.matchMedia.bind(window) : noopMatchMedia;\r\n","import { combineLatest, concat, Observable } from 'rxjs';\nimport { debounceTime, map, skip, startWith, take } from 'rxjs/operators';\nimport { MediaMatcher } from './media-matcher';\n\nexport class BreakpointState {\n\t// matches;\n\t// breakpoints;\n}\n\nclass InternalBreakpointState {\n\t// matches;\n\t// query;\n}\n\nclass Query {\n\t// query$;\n\t// mediaQueryList;\n}\n\nexport class BreakpointService {\n\n\tstatic queries_ = {};\n\n\tstatic observe$(value) {\n\t\tconst queries = Object.assign({}, value); // this.splitQueries(coerceArray(value));\n\t\tlet queries$_ = [];\n\t\tObject.keys(queries).forEach(key => {\n\t\t\tconst query = queries[key];\n\t\t\tconst group = query.split('and').map(query => query.trim());\n\t\t\tgroup.forEach(query => queries$_.push(this.registerQuery$_(query).query$));\n\t\t\tqueries[key] = { query, group };\n\t\t});\n\t\t// let queries$_ = Object.keys(queries).map(key => this.registerQuery$_(queries[key]).query$);\n\t\tqueries$_ = combineLatest(...queries$_);\n\t\tlet queries$ = concat(\n\t\t\tqueries$_.pipe(take(1)),\n\t\t\tqueries$_.pipe(skip(1), debounceTime(0))\n\t\t);\n\t\treturn queries$.pipe(\n\t\t\tmap((breakpoints) => {\n\t\t\t\tconst response = {};\n\t\t\t\tbreakpoints.forEach(b => {\n\t\t\t\t\tObject.keys(queries).forEach(key => {\n\t\t\t\t\t\tconst query = queries[key];\n\t\t\t\t\t\tconst match = query.group.reduce((p, c) => {\n\t\t\t\t\t\t\treturn p && (b.query !== c || b.matches);\n\t\t\t\t\t\t}, true);\n\t\t\t\t\t\tresponse[key] = match;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t/*\n\t\t\t\tconst response = {\n\t\t\t\t\tmatches: false,\n\t\t\t\t\tbreakpoints: {},\n\t\t\t\t};\n\t\t\t\tbreakpoints.forEach((state) => {\n\t\t\t\t\tresponse.matches = response.matches || state.matches;\n\t\t\t\t\tresponse.breakpoints[state.query] = state.matches;\n\t\t\t\t});\n\t\t\t\tconsole.log(breakpoints, response, queries);\n\t\t\t\t*/\n\t\t\t\treturn response;\n\t\t\t}),\n\t\t);\n\t}\n\n\t/*\n\tstatic isMatched$(value) {\n\t\tconst queries = this.splitQueries(coerceArray(value));\n\t\treturn queries.some(mediaQuery => this.registerQuery$_(mediaQuery).mediaQueryList.matches);\n\t}\n\t*/\n\n\tstatic has(query) {\n\t\treturn this.queries_[query] !== undefined;\n\t}\n\n\tstatic get(query) {\n\t\treturn this.queries_[query];\n\t}\n\n\tstatic set(query, value) {\n\t\treturn this.queries_[query] = value;\n\t}\n\n\tstatic registerQuery$_(key) {\n\t\tif (this.has(key)) {\n\t\t\treturn this.get(key);\n\t\t}\n\t\tconst mediaQueryList = MediaMatcher.matchMedia(key);\n\t\tconst query$ = new Observable((observer) => {\n\t\t\tconst handler = (e) => observer.next(e);\n\t\t\tmediaQueryList.addListener(handler);\n\t\t\treturn () => {\n\t\t\t\tmediaQueryList.removeListener(handler);\n\t\t\t};\n\t\t}).pipe(\n\t\t\tstartWith(mediaQueryList),\n\t\t\tmap((nextMediaQueryList) => ({ query: key, matches: nextMediaQueryList.matches })),\n\t\t);\n\t\tconst output = { query$: query$, mediaQueryList };\n\t\tthis.set(key, output);\n\t\treturn output;\n\t}\n\n\tstatic splitQueries(queries) {\n\t\treturn queries.map((query) => query.split(','))\n\t\t\t.reduce((a1, a2) => a1.concat(a2))\n\t\t\t.map(query => query.trim());\n\t}\n}\n","import { decodeBase64, decodeJson, encodeBase64, encodeJson, Serializer, WINDOW } from 'rxcomp';\r\n\r\nexport default class StorageService {\r\n\tstatic supported = false;\r\n\tstatic encode(decoded) {\r\n\t\tlet encoded = Serializer.encode(decoded, [encodeJson, encodeURIComponent, encodeBase64]) || null;\r\n\t\treturn encoded;\r\n\t}\r\n\tstatic decode(encoded) {\r\n\t\tlet decoded = Serializer.decode(encoded, [decodeBase64, decodeURIComponent, decodeJson]);\r\n\t\treturn decoded;\r\n\t}\r\n\tstatic isSupported(type) {\r\n\t\tlet flag = false;\r\n\t\tlet storage;\r\n\t\ttry {\r\n\t\t\tstorage = WINDOW[type];\r\n\t\t\tconst x = '__storage_test__';\r\n\t\t\tstorage.setItem(x, x);\r\n\t\t\tstorage.removeItem(x);\r\n\t\t\tflag = true;\r\n\t\t} catch (error) {\r\n\t\t\tflag = error instanceof DOMException && (\r\n\t\t\t\t// everything except Firefox\r\n\t\t\t\terror.code === 22 ||\r\n\t\t\t\t// Firefox\r\n\t\t\t\terror.code === 1014 ||\r\n\t\t\t\t// test name field too, because code might not be present\r\n\t\t\t\t// everything except Firefox\r\n\t\t\t\terror.name === 'QuotaExceededError' ||\r\n\t\t\t\t// Firefox\r\n\t\t\t\terror.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\r\n\t\t\t\t// acknowledge QuotaExceededError only if there's something already stored\r\n\t\t\t\tBoolean(storage && storage.length !== 0);\r\n\t\t}\r\n\t\treturn flag;\r\n\t}\r\n}\r\n","import { ReplaySubject } from 'rxjs';\r\nimport StorageService from './storage.service';\r\n\r\nexport default class SessionStorageService extends StorageService {\r\n\tstatic items$ = new ReplaySubject(1);\r\n\tstatic clear() {\r\n\t\tif (this.isSupported()) {\r\n\t\t\tsessionStorage.clear();\r\n\t\t\tthis.items$.next(this.toArray());\r\n\t\t}\r\n\t}\r\n\tstatic delete(name) {\r\n\t\tif (this.isSupported()) {\r\n\t\t\tsessionStorage.removeItem(name);\r\n\t\t\tthis.items$.next(this.toArray());\r\n\t\t}\r\n\t}\r\n\tstatic exist(name) {\r\n\t\tif (this.isSupported()) {\r\n\t\t\treturn sessionStorage.getItem(name) !== undefined;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tstatic get(name) {\r\n\t\treturn this.decode(this.getRaw(name));\r\n\t}\r\n\tstatic set(name, value) {\r\n\t\tthis.setRaw(name, this.encode(value));\r\n\t}\r\n\tstatic getRaw(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isSupported()) {\r\n\t\t\tvalue = sessionStorage.getItem(name);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tstatic setRaw(name, value) {\r\n\t\tif (value && this.isSupported()) {\r\n\t\t\tsessionStorage.setItem(name, value);\r\n\t\t\tthis.items$.next(this.toArray());\r\n\t\t}\r\n\t}\r\n\tstatic toArray() {\r\n\t\treturn this.toRawArray().map(x => {\r\n\t\t\tx.value = this.decode(x.value);\r\n\t\t\treturn x;\r\n\t\t});\r\n\t}\r\n\tstatic toRawArray() {\r\n\t\tif (this.isSupported()) {\r\n\t\t\treturn Object.keys(sessionStorage).map(key => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: key,\r\n\t\t\t\t\tvalue: this.getRaw(key),\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tstatic isSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn StorageService.isSupported('sessionStorage');\r\n\t}\r\n}\r\n","import SessionStorageService from '../storage/session-storage.service';\r\n\r\nexport class CoverService {\r\n\r\n\tstatic isIndex() {\r\n\t\tconst validPaths = ['', '/', '/it/', '/en/'];\r\n\t\treturn validPaths.indexOf(window.location.pathname) !== -1;\r\n\t}\r\n\r\n\tstatic shouldShowCover() {\r\n\t\tlet flag = false;\r\n\t\tconst showCover = SessionStorageService.get('showCover');\r\n\t\tflag = CoverService.isIndex() && !showCover;\r\n\t\tSessionStorageService.set('showCover', true);\r\n\t\treturn flag;\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { BreakpointService } from './breakpoint/breakpoint.service';\r\nimport { CoverService } from './cover/cover.service';\r\n\r\nexport default class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\r\n\t\tthis.showCover = CoverService.shouldShowCover();\r\n\r\n\t\tBreakpointService.observe$({\r\n\t\t\tisMobile: '(max-width: 767px)'\r\n\t\t}).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(results => {\r\n\t\t\tconsole.log('AppComponent.BreakpointService.results', results);\r\n\t\t\tthis.isMobile = results.isMobile;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonSkipCover(event) {\r\n\t\tconsole.log('AppComponent.onSkipCover');\r\n\t\tthis.showCover = false;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonMenuToggle(opened) {\r\n\t\tconsole.log('AppComponent.onMenuToggle', opened);\r\n\t}\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[app-component]',\r\n};\r\n","import { BehaviorSubject, of , Subject } from 'rxjs';\r\nimport { filter, finalize, first, map } from 'rxjs/operators';\r\n\r\nexport default class IntersectionService {\r\n\r\n\tstatic observer() {\r\n\t\tif (!this.observer_) {\r\n\t\t\tthis.readySubject_ = new BehaviorSubject(false);\r\n\t\t\tthis.observerSubject_ = new Subject();\r\n\t\t\tthis.observer_ = new IntersectionObserver(entries => {\r\n\t\t\t\tthis.observerSubject_.next(entries);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.observer_;\r\n\t}\r\n\r\n\tstatic intersection$(node) {\r\n\t\tif ('IntersectionObserver' in window) {\r\n\t\t\tconst observer = this.observer();\r\n\t\t\tobserver.observe(node);\r\n\t\t\treturn this.observerSubject_.pipe(\r\n\t\t\t\t// tap(entries => console.log(entries.length)),\r\n\t\t\t\tmap(entries => entries.find(entry => entry.target === node)),\r\n\t\t\t\tfilter(entry => entry !== undefined),\r\n\t\t\t\t// tap(entry => console.log('IntersectionService.intersection$', entry)),\r\n\t\t\t\tfinalize(() => observer.unobserve(node)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of({ target: node, isIntersecting: true });\r\n\t\t}\r\n\t}\r\n\r\n\tstatic firstIntersection$(node) {\r\n\t\treturn this.intersection$(node).pipe(\r\n\t\t\tfilter(entry => entry.isIntersecting), // entry.intersectionRatio > 0\r\n\t\t\tfirst(),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport IntersectionService from '../intersection/intersection.service';\r\n\r\nexport default class AppearStaggerDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('appear-stagger');\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tif (!this.appeared) {\r\n\t\t\tthis.appeared = true;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tIntersectionService.firstIntersection$(node).pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(src => {\r\n\t\t\t\tnode.classList.add('appeared');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nAppearStaggerDirective.meta = {\r\n\tselector: '[appear-stagger]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport IntersectionService from '../intersection/intersection.service';\r\n\r\nexport default class AppearDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('appear');\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tif (!this.appeared) {\r\n\t\t\tthis.appeared = true;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tIntersectionService.firstIntersection$(node).pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(src => {\r\n\t\t\t\tnode.classList.add('appeared');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nAppearDirective.meta = {\r\n\t// selector: '[appear],.row,.listing--series,.listing--products,.listing--cards,.listing--news,.listing--downloads',\r\n\tselector: '.picture',\r\n};\r\n","export const NODE = (typeof module !== 'undefined' && module.exports);\r\nexport const PARAMS = NODE ? { get: () => { } } : new URLSearchParams(window.location.search);\r\nexport const DEBUG = false || (PARAMS.get('debug') != null);\r\nexport const BASE_HREF = NODE ? null : document.querySelector('base').getAttribute('href');\r\nexport const STATIC = NODE ? false : (window && (window.location.port === '40525' || window.location.host === 'actarian.github.io' || window.location.host === 'stipa.herokuapp.com'));\r\nexport const DEVELOPMENT = NODE ? false : (window && ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1);\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tNAME: 'stipa',\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION,\r\n\tRESOURCE: '/docs/',\r\n\tSTATIC_RESOURCE: './',\r\n\tAPI: '/wp-json/stipa/v1',\r\n\tSTATIC_API: (DEVELOPMENT && !STATIC) ? '/Client/docs/api' : './api',\r\n};\r\n\r\nexport function getApiUrl(url, useStatic) {\r\n\tconst base = (useStatic || STATIC) ? ENV.STATIC_API : ENV.API;\r\n\tconst json = (useStatic || STATIC) ? '.json' : '';\r\n\treturn `${base}${url}${json}`;\r\n}\r\nexport function getResourceRoot() {\r\n\treturn STATIC ? ENV.STATIC_RESOURCE : ENV.RESOURCE;\r\n}\r\nexport function getSlug(url) {\r\n\tif (!url) {\r\n\t\treturn url;\r\n\t}\r\n\tif (url.indexOf(`/${ENV.NAME}`) !== 0) {\r\n\t\treturn url;\r\n\t}\r\n\tif (STATIC) {\r\n\t\tconsole.log(url);\r\n\t\treturn url;\r\n\t}\r\n\turl = url.replace(`/${ENV.NAME}`, '');\r\n\turl = url.replace('.html', '');\r\n\treturn `/it/it${url}`;\r\n}\r\n\r\nexport class Environment {\r\n\r\n\tget href() {\r\n\t\tif (window.location.host.indexOf('herokuapp') !== -1) {\r\n\t\t\treturn 'https://raw.githubusercontent.com/actarian/stipa/master/docs/';\r\n\t\t} else {\r\n\t\t\treturn BASE_HREF;\r\n\t\t}\r\n\t}\r\n\r\n\tget host() {\r\n\t\tlet host = window.location.host.replace('127.0.0.1', '192.168.1.2');\r\n\t\tif (host.substr(host.length - 1, 1) === '/') {\r\n\t\t\thost = host.substr(0, host.length - 1);\r\n\t\t}\r\n\t\treturn `${window.location.protocol}//${host}${BASE_HREF}`;\r\n\t}\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport const environment = new Environment({\r\n\tport: 5000,\r\n});\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nexport class HttpResponse {\r\n\r\n\tget static() {\r\n\t\treturn this.url.indexOf('.json') === this.url.length - 5;\r\n\t}\r\n\r\n\tconstructor(response) {\r\n\t\tthis.data = null;\r\n\t\tif (response) {\r\n\t\t\tthis.url = response.url;\r\n\t\t\tthis.status = response.status;\r\n\t\t\tthis.statusText = response.statusText;\r\n\t\t\tthis.ok = response.ok;\r\n\t\t\tthis.redirected = response.redirected;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tmethod = url.indexOf('.json') !== -1 ? 'GET' : method;\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\tlet qstring = methods.indexOf(method) !== -1 ? Object.keys(data).map(function(key) {\r\n\t\t    return key + '=' + encodeURI(data[key])\r\n\t\t}).join('&') : undefined;\r\n\t\treturn from(fetch(url, url.indexOf('.json') !== -1 ? {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t} : {\r\n\t\t    method: method,\r\n\t\t    headers: {\r\n\t\t        'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t    },\r\n\t\t    body: qstring\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = new HttpResponse(response);\r\n\t\t\treturn response[format]().then(json => {\r\n\t\t\t\tresponse_.data = json;\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(response_);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t/*\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response[format]();\r\n\t\t\t} else {\r\n\t\t\t\treturn response.json().then(json => {\r\n\t\t\t\t\treturn Promise.reject(json);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\tconsole.log('HttpService.getError', error, object);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","import { ReplaySubject } from 'rxjs';\r\nimport StorageService from './storage.service';\r\n\r\nexport default class CookieStorageService extends StorageService {\r\n\tstatic items$ = new ReplaySubject(1);\r\n\tstatic clear() {\r\n\t\tthis.toRawArray().forEach(x => {\r\n\t\t\tthis.setter(x.name, '', -1);\r\n\t\t});\r\n\t}\r\n\tstatic delete(name) {\r\n\t\tthis.setter(name, '', -1);\r\n\t}\r\n\tstatic exist(name) {\r\n\t\treturn document.cookie.indexOf(';' + name + '=') !== -1 || document.cookie.indexOf(name + '=') === 0;\r\n\t}\r\n\tstatic get(name) {\r\n\t\treturn this.decode(this.getRaw(name));\r\n\t}\r\n\tstatic set(name, value, days) {\r\n\t\tthis.setter(name, this.encode(value), days);\r\n\t}\r\n\tstatic getRaw(name) {\r\n\t\tlet value = null;\r\n\t\tconst cookies = this.toRawArray();\r\n\t\tconst cookie = cookies.find(x => x.name === name);\r\n\t\tif (cookie) {\r\n\t\t\tvalue = cookie.value;\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tstatic setRaw(name, value, days) {\r\n\t\tthis.setter(name, value, days);\r\n\t}\r\n\tstatic toArray() {\r\n\t\treturn this.toRawArray().map(x => {\r\n\t\t\tx.value = this.decode(x.value);\r\n\t\t\treturn x;\r\n\t\t});\r\n\t}\r\n\tstatic toRawArray() {\r\n\t\treturn document.cookie.split(';').map(x => {\r\n\t\t\tconst items = x.split('=');\r\n\t\t\treturn { name: items[0].trim(), value: items[1] ? items[1].trim() : null }\r\n\t\t}).filter(x => x.name !== '');\r\n\t}\r\n\tstatic setter(name, value, days) {\r\n\t\tlet expires;\r\n\t\tif (days) {\r\n\t\t\tconst date = new Date();\r\n\t\t\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n\t\t\texpires = '; expires=' + date.toUTCString();\r\n\t\t} else {\r\n\t\t\texpires = '';\r\n\t\t}\r\n\t\tdocument.cookie = name + '=' + value + expires + '; path=/';\r\n\t\tthis.items$.next(this.toArray());\r\n\t}\r\n\tstatic isSupported() {\r\n\t\tconst isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\r\n\t\treturn isBrowser;\r\n\t}\r\n}\r\n","import { getApiUrl } from '../environment';\r\nimport HttpService from '../http/http.service';\r\nimport CookieStorageService from '../storage/cookie-storage.service';\r\n\r\nexport default class ApiService extends HttpService {\r\n\r\n\tstatic currentLanguage = CookieStorageService.getRaw('wp-wpml_current_language'); // || 'it';\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\treturn super.get$(getApiUrl(url), data, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn super.delete$(getApiUrl(url));\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn super.post$(getApiUrl(url), data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn super.put$(getApiUrl(url), data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn super.patch$(getApiUrl(url), data);\r\n\t}\r\n\r\n\tstatic staticGet$(url, data, format) {\r\n\t\treturn super.get$(getApiUrl(url, true), data, format);\r\n\t}\r\n\r\n\tstatic staticDelete$(url) {\r\n\t\treturn super.delete$(getApiUrl(url, true));\r\n\t}\r\n\r\n\tstatic staticPost$(url, data) {\r\n\t\treturn super.post$(getApiUrl(url, true), data);\r\n\t}\r\n\r\n\tstatic staticPut$(url, data) {\r\n\t\treturn super.put$(getApiUrl(url, true), data);\r\n\t}\r\n\r\n\tstatic staticPatch$(url, data) {\r\n\t\treturn super.patch$(getApiUrl(url, true), data);\r\n\t}\r\n\r\n}\r\n","import { ReplaySubject } from 'rxjs';\r\nimport StorageService from './storage.service';\r\n\r\nexport default class LocalStorageService extends StorageService {\r\n\tstatic items$ = new ReplaySubject(1);\r\n\tstatic clear() {\r\n\t\tif (this.isSupported()) {\r\n\t\t\tlocalStorage.clear();\r\n\t\t\tthis.items$.next(this.toArray());\r\n\t\t}\r\n\t}\r\n\tstatic delete(name) {\r\n\t\tif (this.isSupported()) {\r\n\t\t\tlocalStorage.removeItem(name);\r\n\t\t\tthis.items$.next(this.toArray());\r\n\t\t}\r\n\t}\r\n\tstatic exist(name) {\r\n\t\tif (this.isSupported()) {\r\n\t\t\treturn localStorage.getItem(name) !== undefined;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\tstatic get(name) {\r\n\t\treturn this.decode(this.getRaw(name));\r\n\t}\r\n\tstatic set(name, value) {\r\n\t\tthis.setRaw(name, this.encode(value));\r\n\t}\r\n\tstatic getRaw(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isSupported()) {\r\n\t\t\tvalue = localStorage.getItem(name);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\tstatic setRaw(name, value) {\r\n\t\tif (value && this.isSupported()) {\r\n\t\t\tlocalStorage.setItem(name, value);\r\n\t\t\tthis.items$.next(this.toArray());\r\n\t\t}\r\n\t}\r\n\tstatic toArray() {\r\n\t\treturn this.toRawArray().map(x => {\r\n\t\t\tx.value = this.decode(x.value);\r\n\t\t\treturn x;\r\n\t\t});\r\n\t}\r\n\tstatic toRawArray() {\r\n\t\tif (this.isSupported()) {\r\n\t\t\treturn Object.keys(localStorage).map(key => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: key,\r\n\t\t\t\t\tvalue: this.getRaw(key),\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t}\r\n\tstatic isSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn StorageService.isSupported('localStorage');\r\n\t}\r\n}\r\n","import { BehaviorSubject, of } from 'rxjs';\r\nimport { catchError, map, switchMap } from 'rxjs/operators';\r\nimport ApiService from '../api/api.service';\r\nimport LocalStorageService from '../storage/local-storage.service';\r\n\r\nexport class User {\r\n\r\n\tget avatar() {\r\n\t\treturn (this.firstName || '?').substr(0, 1).toUpperCase() + (this.lastName || '?').substr(0, 1).toUpperCase();\r\n\t}\r\n\r\n\tget fullName() {\r\n\t\treturn this.firstName + ' ' + this.lastName;\r\n\t}\r\n\r\n\tconstructor(data) {\r\n\t\tif (data) {\r\n\t\t\tObject.assign(this, data);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport default class UserService {\r\n\r\n\tstatic getCurrentUser() {\r\n\t\treturn this.user$_.getValue();\r\n\t}\r\n\r\n\tstatic setUser(user) {\r\n\t\tthis.user$_.next(user);\r\n\t}\r\n\r\n\tstatic me$() {\r\n\t\t//return ApiService.staticGet$(`/user/me`).pipe(\r\n\t\treturn ApiService.get$(`/user/me`).pipe(\r\n\t\t\t// map((user) => this.mapStatic__(user, 'me')),\r\n\t\t\tmap((response) => this.mapUser(response.data, response.static)),\r\n\t\t\tcatchError(error => of (null)),\r\n\t\t\tswitchMap(user => {\r\n\t\t\t\tthis.setUser(user);\r\n\t\t\t\treturn this.user$_;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic register$(payload) {\r\n\t\treturn ApiService.staticPost$(`/user/register`, payload).pipe(\r\n\t\t\tmap((response) => this.mapStatic__(response.data, response.static, 'register')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic login$(payload) {\r\n\t\treturn ApiService.staticPost$(`/user/login`, payload).pipe(\r\n\t\t\tmap((response) => this.mapStatic__(response.data, response.static, 'login')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic logout$() {\r\n\t\treturn ApiService.staticPost$(`/user/logout`).pipe(\r\n\t\t\tmap((response) => this.mapStatic__(response.data, response.static, 'logout')),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic retrieve$(payload) {\r\n\t\treturn ApiService.staticPost$(`/user/forget`, payload).pipe(\r\n\t\t\tmap((response) => this.mapStatic__(response.data, response.static, 'retrieve')),\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n\tstatic update$(payload) {\r\n\t\treturn ApiService.staticPost$(`/user/updateprofile`, payload).pipe(\r\n\t\t\tmap((response) => this.mapStatic__(response.data, response.static, 'register')),\r\n\t\t);\r\n\t}\r\n\t*/\r\n\r\n\tstatic mapStatic__(user, isStatic, action = 'me') {\r\n\t\tif (!isStatic) {\r\n\t\t\treturn user;\r\n\t\t};\r\n\t\tswitch (action) {\r\n\t\t\tcase 'me':\r\n\t\t\t\tif (!LocalStorageService.exist('user')) {\r\n\t\t\t\t\tuser = null;\r\n\t\t\t\t};\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'register':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'login':\r\n\t\t\t\tLocalStorageService.set('user', user);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'logout':\r\n\t\t\t\tLocalStorageService.delete('user');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn user;\r\n\t}\r\n\r\n\tstatic fake(user) {\r\n\t\tuser.firstName = user.firstName || 'Jhon';\r\n\t\tuser.lastName = user.lastName || 'Appleseed';\r\n\t\treturn user;\r\n\t}\r\n\r\n\tstatic mapUser(user, isStatic) {\r\n\t\treturn isStatic ? UserService.fake(new User(user)) : new User(user);\r\n\t}\r\n\r\n\tstatic mapUsers(users, isStatic) {\r\n\t\treturn users ? users.map(x => UserService.mapUser(x, isStatic)) : [];\r\n\t}\r\n\r\n}\r\n\r\nUserService.user$_ = new BehaviorSubject(null);\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class AuthForgotComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('AuthForgotComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('AuthForgotComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('AuthForgotComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\tUserService.retrieve$(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('AuthForgotComponent.onSubmit', response);\r\n\t\t\t\t\tthis.sent.next(true);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\t// this.form.reset();\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('AuthForgotComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonLogin() {\r\n\t\tthis.login.next();\r\n\t}\r\n\r\n\tonRegister() {\r\n\t\tthis.register.next();\r\n\t}\r\n\r\n}\r\n\r\nAuthForgotComponent.meta = {\r\n\tselector: '[auth-forgot]',\r\n\toutputs: ['sent', 'login', 'register'],\r\n};\r\n","import { from, Subject } from 'rxjs';\r\nimport { map, switchMap, tap } from 'rxjs/operators';\r\n\r\nexport class ModalEvent {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\nexport class ModalResolveEvent extends ModalEvent {}\r\nexport class ModalRejectEvent extends ModalEvent {}\r\n\r\nexport default class ModalService {\r\n\r\n\tstatic open$(modal) {\r\n\t\treturn this.getTemplate$(modal.src).pipe(\r\n\t\t\tmap(template => {\r\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\r\n\t\t\t}),\r\n\t\t\ttap(node => this.modal$.next(node)),\r\n\t\t\tswitchMap(node => this.events$),\r\n\t\t)\r\n\t}\r\n\r\n\tstatic load$(modal) {\r\n\r\n\t}\r\n\r\n\tstatic getTemplate$(url) {\r\n\t\treturn from(fetch(url).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t}));\r\n\t}\r\n\r\n\tstatic getNode(template) {\r\n\t\tconst div = document.createElement(\"div\");\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tstatic reject(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalRejectEvent(data));\r\n\t}\r\n\r\n\tstatic resolve(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalResolveEvent(data));\r\n\t}\r\n\r\n}\r\n\r\nModalService.modal$ = new Subject();\r\nModalService.events$ = new Subject();\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalOutletComponent extends Component {\r\n\r\n\tget modal() {\r\n\t\treturn this.modal_;\r\n\t}\r\n\r\n\tset modal(modal) {\r\n\t\t// console.log('ModalOutletComponent set modal', modal, this);\r\n\t\tconst { module } = getContext(this);\r\n\t\tif (this.modal_ && this.modal_.node) {\r\n\t\t\tmodule.remove(this.modal_.node, this);\r\n\t\t\tthis.modalNode.removeChild(this.modal_.node);\r\n\t\t}\r\n\t\tif (modal && modal.node) {\r\n\t\t\tthis.modal_ = modal;\r\n\t\t\tthis.modalNode.appendChild(modal.node);\r\n\t\t\tconst instances = module.compile(modal.node);\r\n\t\t}\r\n\t\tthis.modal_ = modal;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.modalNode = node.querySelector('.modal-outlet__modal');\r\n\t\tModalService.modal$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(modal => {\r\n\t\t\tthis.modal = modal;\r\n\t\t});\r\n\t}\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('ModalComponent.onRegister');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('ModalComponent.onLogin');\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\treject(event) {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalOutletComponent.meta = {\r\n\tselector: '[modal-outlet]',\r\n\ttemplate: /* html */ `\r\n\t<div class=\"modal-outlet__container\" [class]=\"{ active: modal }\">\r\n\t\t<div class=\"modal-outlet__background\" (click)=\"reject($event)\"></div>\r\n\t\t<div class=\"modal-outlet__modal\"></div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class AuthComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.views = {\r\n\t\t\tSIGN_IN: 1,\r\n\t\t\tSIGN_UP: 2,\r\n\t\t\tFORGOTTEN: 3,\r\n\t\t};\r\n\t\tthis.view = node.hasAttribute('view') ? parseInt(node.getAttribute('view')) : this.views.SIGN_IN;\r\n\t}\r\n\r\n\tonForgot(event) {\r\n\t\t// console.log('AuthComponent.onForgot');\r\n\t\tthis.view = this.views.FORGOTTEN;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonLogin(event) {\r\n\t\t// console.log('AuthComponent.onLogin');\r\n\t\tthis.view = this.views.SIGN_IN;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonRegister(event) {\r\n\t\t// console.log('AuthComponent.onRegister');\r\n\t\tthis.view = this.views.SIGN_UP;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonSignIn(user) {\r\n\t\tconsole.log('AuthComponent.onSignIn', user);\r\n\t\tUserService.setUser(user);\r\n\t\twindow.location.href = this.auth;\r\n\t\t// nav to profile\r\n\t}\r\n\r\n\tonSignUp(user) {\r\n\t\tconsole.log('AuthComponent.onSignUp', user);\r\n\t\tUserService.setUser(user);\r\n\t\twindow.location.href = this.auth;\r\n\t\t// nav to profile\r\n\t}\r\n\r\n\tonForgottenSent(email) {\r\n\t\t/*\r\n\t\tconsole.log('AuthComponent.onForgottenSent', email);\r\n\t\tthis.view = this.views.SIGN_IN;\r\n\t\tthis.pushChanges();\r\n\t\t*/\r\n\t}\r\n}\r\n\r\nAuthComponent.meta = {\r\n\tselector: '[auth]',\r\n\tinputs: ['auth']\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport ModalService from '../modal/modal.service';\r\nimport AuthComponent from './auth.component';\r\n\r\nexport default class AuthModalComponent extends AuthComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tthis.view = data.view;\r\n\t\t\t// console.log('AuthModalComponent.onInit', data);\r\n\t\t}\r\n\t}\r\n\r\n\tonSignIn(user) {\r\n\t\t// console.log('AuthModalComponent.onSignIn', user);\r\n\t\tModalService.resolve(user);\r\n\t}\r\n\r\n\tonSignUp(user) {\r\n\t\t// console.log('AuthModalComponent.onSignUp', user);\r\n\t\tModalService.resolve(user);\r\n\t}\r\n\r\n\t/*\r\n\tonDestroy() {\r\n\t\t// console.log('AuthModalComponent.onDestroy');\r\n\t}\r\n\t*/\r\n\r\n\tclose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nAuthModalComponent.meta = {\r\n\tselector: '[auth-modal]'\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class AuthSigninComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst data = window.data || {\r\n\t\t\tinterests: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tpassword: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('AuthSigninComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tthis.form.patch({\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tpassword: 'password',\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('AuthSigninComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('AuthSigninComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t// HttpService.post$('/api/users/Login', this.form.value)\r\n\t\t\tUserService.login$(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('AuthSigninComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\t// this.form.reset();\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t\tthis.signIn.next(typeof response === 'string' ? { status: response } : response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('AuthSigninComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonForgot() {\r\n\t\tthis.forgot.next();\r\n\t}\r\n\r\n\tonRegister() {\r\n\t\tthis.register.next();\r\n\t}\r\n\r\n}\r\n\r\nAuthSigninComponent.meta = {\r\n\tselector: '[auth-signin]',\r\n\toutputs: ['signIn', 'forgot', 'register'],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport UserService from '../user/user.service';\r\n\r\nexport default class AuthSignupComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst data = window.data || {\r\n\t\t    roles: [],\r\n            countries: []\r\n\t\t};\r\n\r\n\t\tconst form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tlastName: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcompany: new FormControl(null),\r\n\t\t\trole: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcountry: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tnewsletter: new FormControl(null),\r\n\t\t\tprivacy: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n            action: window.formaction\r\n\t\t});\r\n\r\n\t\tconst controls = form.controls;\r\n\t\tcontrols.role.options = data.roles;\r\n\t\tcontrols.country.options = data.countries;\r\n\t\tthis.controls = controls;\r\n\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((changes) => {\r\n\t\t\t// console.log('WorkWithUsComponent.form.changes$', changes, form.valid);\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\r\n\t\tthis.data = data;\r\n\t\tthis.form = form;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst role = this.controls.role.options.length ? this.controls.role.options[0].id : null;\r\n\t\tthis.form.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\tcountry: 'Italy',\r\n\t\t\trole: role,\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.form.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\t// console.log('AuthSignupComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (this.form.valid) {\r\n\t\t\t// console.log('AuthSignupComponent.onSubmit', this.form.value);\r\n\t\t\tthis.form.submitted = true;\r\n\t\t\t// HttpService.post$('/api/users/Register', this.form.value)\r\n\t\t\tUserService.register$(this.form.value)\r\n\t\t\t\t.subscribe(response => {\r\n\t\t\t\t\tconsole.log('AuthSignupComponent.onSubmit', response);\r\n\t\t\t\t\tthis.success = true;\r\n\t\t\t\t\tdataLayer.push({\r\n\t\t\t\t\t\t'event': 'formSubmission',\r\n\t\t\t\t\t\t'form type': 'Registrazione'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.form.reset();\r\n\t\t\t\t\t// this.pushChanges();\r\n\t\t\t\t\t// this.signUp.next(response);\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\tconsole.log('AuthSignupComponent.error', error);\r\n\t\t\t\t\tthis.error = error;\r\n\t\t\t\t\tthis.form.submitted = false;\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.form.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonLogin() {\r\n\t\tthis.login.next();\r\n\t}\r\n\r\n}\r\n\r\nAuthSignupComponent.meta = {\r\n\tselector: '[auth-signup]',\r\n\t//outputs: ['signUp', 'login'],\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { filter, shareReplay, takeUntil } from 'rxjs/operators';\r\n\r\nexport default class ClickOutsideDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node, parentInstance, selector } = getContext(this);\r\n\t\tconst event$ = this.event$ = fromEvent(document, 'click').pipe(\r\n\t\t\tfilter(event => {\r\n\t\t\t\tconst target = event.target;\r\n\t\t\t\t// console.log('ClickOutsideDirective.onClick', this.element.nativeElement, target, this.element.nativeElement.contains(target));\r\n\t\t\t\t// const documentContained: boolean = Boolean(document.compareDocumentPosition(target) & Node.DOCUMENT_POSITION_CONTAINED_BY);\r\n\t\t\t\t// console.log(target, documentContained);\r\n\t\t\t\tconst clickedInside = node.contains(target) || !document.contains(target);\r\n\t\t\t\tif (!clickedInside) {\r\n\t\t\t\t\tif (this.initialFocus) {\r\n\t\t\t\t\t\tthis.initialFocus = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.initialFocus = true;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t\tconst expression = node.getAttribute(`(clickOutside)`);\r\n\t\tif (expression) {\r\n\t\t\tconst outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\t\tevent$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\tmodule.resolve(outputFunction, parentInstance, event);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tparentInstance.clickOutside$ = event$;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nClickOutsideDirective.meta = {\r\n\tselector: `[(clickOutside)]`,\r\n};\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\n\r\nlet DROPDOWN_ID = 1000000;\r\n\r\nexport default class DropdownDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\r\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\r\n\t\tthis.opened = null;\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\r\n\t\tthis.openDropdown = this.openDropdown.bind(this);\r\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\r\n\t\tthis.addListeners();\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\r\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\r\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\r\n\t\t\t\tthis.closeDropdown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDocumentClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\r\n\t\tif (!clickedInside) {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\topenDropdown() {\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.opened = true;\r\n\t\t\tthis.addDocumentListeners();\r\n\t\t\tDropdownDirective.dropdown$.next(this.id);\r\n\t\t\tthis.dropped.next(this.id);\r\n\t\t}\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\tif (this.opened !== null) {\r\n\t\t\tthis.removeDocumentListeners();\r\n\t\t\tthis.opened = null;\r\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\r\n\t\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\t\tthis.dropped.next(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.trigger.addEventListener('click', this.onClick);\r\n\t}\r\n\r\n\taddDocumentListeners() {\r\n\t\tdocument.addEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tthis.trigger.removeEventListener('click', this.onClick);\r\n\t}\r\n\r\n\tremoveDocumentListeners() {\r\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tthis.removeDocumentListeners();\r\n\t}\r\n\r\n\tstatic nextId() {\r\n\t\treturn DROPDOWN_ID++;\r\n\t}\r\n\r\n}\r\n\r\nDropdownDirective.meta = {\r\n\tselector: '[dropdown]',\r\n\tinputs: ['dropdown', 'dropdown-trigger'],\r\n\toutputs: ['dropped']\r\n};\r\n\r\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\r\n","import { Directive, getContext } from \"rxcomp\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\nimport DropdownDirective from \"./dropdown.directive\";\r\n\r\nexport default class DropdownItemDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this['dropdown-item'];\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('dropdown-item');\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nDropdownItemDirective.meta = {\r\n\tselector: '[dropdown-item], [[dropdown-item]]',\r\n\tinputs: ['dropdown-item']\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\n\r\nexport default class ControlComponent extends Component {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst control = this.control;\r\n\t\tconst flags = control.flags;\r\n\t\tObject.keys(flags).forEach((key) => {\r\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nControlComponent.meta = {\r\n\tselector: '[control]',\r\n\tinputs: ['control']\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlCheckboxComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = this.label || 'label';\r\n\t}\r\n\r\n}\r\n\r\nControlCheckboxComponent.meta = {\r\n\tselector: '[control-checkbox]',\r\n\tinputs: ['control', 'label', 'name'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--checkbox\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label>\r\n\t\t\t\t<input type=\"checkbox\" class=\"control--checkbox\" [formControl]=\"control\" [value]=\"true\" [formControlName]=\"name\" />\r\n\t\t\t\t<span [innerHTML]=\"label | html\"></span>\r\n\t\t\t</label>\r\n\t\t\t<span *if=\"control.validators.length\" class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component *if=\"control.validators.length\" [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { fromEvent } from 'rxjs';\r\nimport { filter, map, shareReplay } from 'rxjs/operators';\r\n\r\nexport default class KeyboardService {\r\n\r\n\tstatic keydown$() {\r\n\t\treturn fromEvent(window, 'keydown').pipe(\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic keyup$() {\r\n\t\treturn fromEvent(window, 'keyup').pipe(\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic typing$() {\r\n\t\tlet typing = '',\r\n\t\t\tto;\r\n\t\treturn this.key$().pipe(\r\n\t\t\tmap(key => {\r\n\t\t\t\tif (to) {\r\n\t\t\t\t\tclearTimeout(to);\r\n\t\t\t\t}\r\n\t\t\t\ttyping += key;\r\n\t\t\t\tto = setTimeout(() => {\r\n\t\t\t\t\ttyping = '';\r\n\t\t\t\t}, 1500);\r\n\t\t\t\treturn typing;\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t)\r\n\t}\r\n\r\n\tstatic key$() {\r\n\t\tconst regexp = /\\w/;\r\n\t\treturn this.keydown$().pipe(\r\n\t\t\tfilter(event => event.key && event.key.match(regexp)),\r\n\t\t\tmap(event => event.key),\r\n\t\t\tshareReplay(1)\r\n\t\t)\r\n\t}\r\n\r\n}\r\n","import { getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport DropdownDirective from '../dropdown/dropdown.directive';\r\nimport KeyboardService from '../keyboard/keyboard.service';\r\nimport ControlComponent from './control.component';\r\n\r\nexport default class ControlCustomSelectComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.labels = window.labels || {};\r\n\t\tthis.dropped = false;\r\n\t\tthis.dropdownId = DropdownDirective.nextId();\r\n\t\tKeyboardService.typing$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(word => {\r\n\t\t\tthis.scrollToWord(word);\r\n\t\t});\r\n\t\t/*\r\n\t\tKeyboardService.key$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(key => {\r\n\t\t\tthis.scrollToKey(key);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tscrollToWord(word) {\r\n\t\t// console.log('ControlCustomSelectComponent.scrollToWord', word);\r\n\t\tconst items = this.control.options || [];\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\tconst x = items[i];\r\n\t\t\tif (x.name.toLowerCase().indexOf(word.toLowerCase()) === 0) {\r\n\t\t\t\t// console.log(word, x.name);\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (index !== -1) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst dropdown = node.querySelector('.dropdown');\r\n\t\t\tconst navDropdown = node.querySelector('.nav--dropdown');\r\n\t\t\tconst item = navDropdown.children[index];\r\n\t\t\tdropdown.scrollTo(0, item.offsetTop);\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\tsetOption(item) {\r\n\t\tthis.control.value = item.id;\r\n\t\t// DropdownDirective.dropdown$.next(null);\r\n\t}\r\n\t*/\r\n\r\n\tsetOption(item) {\r\n\t\tconsole.log('setOption', item, this.isMultiple);\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst value = this.control.value || [];\r\n\t\t\tconst index = value.indexOf(item.id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\t// if (value.length > 1) {\r\n\t\t\t\tvalue.splice(index, 1);\r\n\t\t\t\t// }\r\n\t\t\t} else {\r\n\t\t\t\tvalue.push(item.id);\r\n\t\t\t}\r\n\t\t\tthis.control.value = value.length ? value.slice() : null;\r\n\t\t} else {\r\n\t\t\tthis.control.value = item.id;\r\n\t\t\t// DropdownDirective.dropdown$.next(null);\r\n\t\t}\r\n\t}\r\n\r\n\thasOption(item) {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst values = this.control.value || [];\r\n\t\t\treturn values.indexOf(item.id) !== -1;\r\n\t\t} else {\r\n\t\t\treturn this.control.value === item.id;\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped(id) {\r\n\t\t// console.log('ControlCustomSelectComponent.onDropped', id);\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tlet value = this.control.value;\r\n\t\tconst items = this.control.options || [];\r\n\t\tif (this.isMultiple) {\r\n\t\t\tvalue = value || [];\r\n\t\t\tif (value.length) {\r\n\t\t\t\treturn value.map(v => {\r\n\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\r\n\t\t\t\t\treturn item ? item.name : '';\r\n\t\t\t\t}).join(', ');\r\n\t\t\t} else {\r\n\t\t\t\treturn this.labels.select;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst item = items.find(x => x.id === value || x.name === value);\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.name;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.labels.select;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped($event) {\r\n\t\t// console.log($event);\r\n\t\tthis.dropped = $event === this.dropdownId;\r\n\t}\r\n\r\n\t/*\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.querySelector('.dropdown').classList.add('dropped');\r\n\t}\r\n\t*/\r\n\r\n\t/*\r\n\tonClickOutside(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.querySelector('.dropdown').classList.remove('dropped');\r\n\t}\r\n\t*/\r\n\r\n\tget isMultiple() {\r\n\t\treturn this.multiple && this.multiple !== false && this.multiple !== 'false';\r\n\t}\r\n\r\n}\r\n\r\nControlCustomSelectComponent.meta = {\r\n\tselector: '[control-custom-select]',\r\n\tinputs: ['control', 'label', 'multiple', 'name'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length, multiple: isMultiple }\" [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<span class=\"control--select\" [innerHTML]=\"getLabel()\"></span>\r\n            <input type=\"text\" style=\"display:none\" class=\"control--select\" [formControl]=\"control\" [formControlName]=\"name\" />\r\n\t\t\t<svg class=\"icon icon--caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\r\n\t\t\t<div class=\"category\" [innerHTML]=\"label\"></div>\r\n\t\t\t<ul class=\"nav--dropdown\" [class]=\"{ multiple: isMultiple }\">\r\n\t\t\t<li *for=\"let item of control.options\" (click)=\"setOption(item)\"><span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name\"></span></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t`\r\n\t/*  (click)=\"onClick($event)\" (clickOutside)=\"onClickOutside($event)\" */\r\n\t/*  <!-- <div class=\"dropdown\" [class]=\"{ dropped: dropped }\"> --> */\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlPasswordComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.required = false;\r\n\t}\r\n\r\n}\r\n\r\nControlPasswordComponent.meta = {\r\n\tselector: '[control-password]',\r\n\tinputs: ['control', 'label', 'name'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"password\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [formControlName]=\"name\" />\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlTextComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.required = false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextComponent.meta = {\r\n\tselector: '[control-text]',\r\n\tinputs: ['control', 'label', 'name'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [formControlName]=\"name\" />\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ControlTextareaComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.label = 'label';\r\n\t\tthis.required = false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextareaComponent.meta = {\r\n\tselector: '[control-textarea]',\r\n\tinputs: ['control', 'label', 'name'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--textarea\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [innerHTML]=\"label\"></label>\r\n\t\t\t<textarea class=\"control--text\" [formControl]=\"control\" [innerHTML]=\"label\" rows=\"4\" [formControlName]=\"name\"></textarea>\r\n\t\t\t<span class=\"required__badge\">required</span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import ControlComponent from './control.component';\r\n\r\nexport default class ErrorsComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tthis.labels = window.labels || {};\r\n\t}\r\n\r\n\tgetLabel(key, value) {\r\n\t\tconst label = this.labels[`error_${key}`];\r\n\t\treturn label;\r\n\t}\r\n\r\n}\r\n\r\nErrorsComponent.meta = {\r\n\tselector: 'errors-component',\r\n\tinputs: ['control'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"inner\" [style]=\"{ display: control.invalid && control.touched ? 'block' : 'none' }\">\r\n\t\t<div class=\"error\" *for=\"let [key, value] of control.errors\">\r\n\t\t\t<span [innerHTML]=\"getLabel(key, value)\"></span>\r\n\t\t\t<!-- <span class=\"key\" [innerHTML]=\"key\"></span> <span class=\"value\" [innerHTML]=\"value | json\"></span> -->\r\n\t\t</div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { fromEvent } from \"rxjs\";\r\nimport { map, startWith, tap } from \"rxjs/operators\";\r\n\r\nexport default class CssService {\r\n\r\n\tstatic height$() {\r\n\t\tconst style = document.documentElement.style;\r\n\t\treturn fromEvent(window, 'resize').pipe(\r\n\t\t\tmap(event => window.innerHeight),\r\n\t\t\tstartWith(window.innerHeight),\r\n\t\t\ttap(height => {\r\n\t\t\t\t// First we get the viewport height and we multiple it by 1% to get a value for a vh unit\r\n\t\t\t\tlet vh = height * 0.01;\r\n\t\t\t\t// Then we set the value in the --vh custom property to the root of the document\r\n\t\t\t\tstyle.setProperty('--vh', `${vh}px`);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport CssService from '../css/css.service';\r\n// import UserService from '../user/user.service';\r\n\r\nexport default class HeaderComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.mainActive = false;\r\n\t\tCssService.height$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(height => {\r\n\t\t\tconsole.log('HeaderComponent.height$', height);\r\n\t\t});\r\n\t}\r\n\r\n\tonMainToggle() {\r\n\t\tthis.mainActive = !this.mainActive;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst items = Array.prototype.slice.call(node.querySelectorAll('.nav--primary-menu > li'));\r\n\t\tgsap.to(items, {\r\n\t\t\topacity: this.mainActive ? 1 : 0,\r\n\t\t\tduration: 0.35,\r\n\t\t\tstagger: {\r\n\t\t\t\teach: 0.05,\r\n\t\t\t\tease: Power3.easeOut\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.pushChanges();\r\n\t\tthis.toggle.next(this.mainActive);\r\n\t}\r\n\r\n\tonOpenSub(subId) {\r\n\t\tthis.subId = subId;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tonCloseSub(subId) {\r\n\t\tif (this.subId === subId) {\r\n\t\t\tthis.subId = null;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tisSubOpen(subId) {\r\n\t\treturn this.subId === subId;\r\n\t}\r\n\r\n\tisPrimaryHidden() {\r\n\t\treturn this.subId != null;\r\n\t}\r\n\r\n}\r\n\r\nHeaderComponent.meta = {\r\n\tselector: 'header',\r\n\toutputs: ['toggle']\r\n};\r\n","import { Pipe } from \"rxcomp\";\r\n\r\n/*\r\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n['\"', '&', ''', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n*/\r\n\r\nexport default class HtmlPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\r\n\t\t\t\treturn String.fromCharCode(parseInt(n));\r\n\t\t\t});\r\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '¡', '¢', '£', '¤', '¥', '¦', '§', '¨', '©', 'ª', '«', '¬', '­', '®', '¯', '°', '±', '²', '³', '´', 'µ', '¶', '·', '¸', '¹', 'º', '»', '¼', '½', '¾', '¿', 'À', 'Á', 'Â', 'Ã', 'Ä', 'Å', 'Æ', 'Ç', 'È', 'É', 'Ê', 'Ë', 'Ì', 'Í', 'Î', 'Ï', 'Ð', 'Ñ', 'Ò', 'Ó', 'Ô', 'Õ', 'Ö', '×', 'Ø', 'Ù', 'Ú', 'Û', 'Ü', 'Ý', 'Þ', 'ß', 'à', 'á', 'ã', 'ä', 'å', 'æ', 'ç', 'è', 'é', 'ê', 'ë', 'ì', 'í', 'î', 'ï', 'ð', 'ñ', 'ò', 'ó', 'ô', 'õ', 'ö', '÷', 'ø', 'ù', 'ú', 'û', 'ü', 'ý', 'þ', 'ÿ', '&', '•', '°', '∞', '‰', '⋅', '±', '†', '—', '¬', 'µ', '⊥', '∥', '€', '£', '¥', '¢', '©', '®', '™', 'α', 'β', 'γ', 'δ', 'ε', 'ζ', 'η', 'θ', 'ι', 'κ', 'λ', 'μ', 'ν', 'ξ', 'ο', 'π', 'ρ', 'σ', 'τ', 'υ', 'φ', 'χ', 'ψ', 'ω', 'Α', 'Β', 'Γ', 'Δ', 'Ε', 'Ζ', 'Η', 'Θ', 'Ι', 'Κ', 'Λ', 'Μ', 'Ν', 'Ξ', 'Ο', 'Π', 'Ρ', 'Σ', 'Τ', 'Υ', 'Φ', 'Χ', 'Ψ', 'Ω'];\r\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\r\n\t\t\tvalue = value.replace(rx, function() {\r\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i]) {\r\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\r\n\t\t\t\t\t\treturn unescapes[i - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHtmlPipe.meta = {\r\n\tname: 'html',\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport ModalOutletComponent from '../modal/modal-outlet.component';\r\nimport ModalService from './modal.service';\r\n\r\nexport default class ModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tthis.data = parentInstance.modal.data;\r\n\t\t}\r\n\t}\r\n\r\n\tclose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalComponent.meta = {\r\n\tselector: '[modal]'\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { shareReplay, takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport default class ScrollToDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst expression = this.expression = node.getAttribute(`(scrollTo)`);\r\n\t\tthis.outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\tthis.scrollTo$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => {});\r\n\t}\r\n\r\n\tscrollTo$() {\r\n\t\tconst { module, node, parentInstance } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tconst result = module.resolve(this.outputFunction, parentInstance, event);\r\n\t\t\t\tif (typeof result === 'string') {\r\n\t\t\t\t\tconst target = document.querySelector(result);\r\n\t\t\t\t\tif (target) {\r\n\t\t\t\t\t\tconst from = this.currentTop();\r\n\t\t\t\t\t\tconst to = from + target.getBoundingClientRect().top - 50;\r\n\t\t\t\t\t\tconst o = { pow: 0 };\r\n\t\t\t\t\t\tconst html = document.querySelector('html');\r\n\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t'scroll-behavior': 'auto'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tgsap.to(o, Math.abs((to - from)) / 2000, {\r\n\t\t\t\t\t\t\tpow: 1,\r\n\t\t\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\t\twindow.scrollTo(0, from + (to - from) * o.pow);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tcurrentTop() {\r\n\t\t// Firefox, Chrome, Opera, Safari\r\n\t\tif (self.pageYOffset) return self.pageYOffset;\r\n\t\t// Internet Explorer 6 - standards mode\r\n\t\tif (document.documentElement && document.documentElement.scrollTop)\r\n\t\t\treturn document.documentElement.scrollTop;\r\n\t\t// Internet Explorer 6, 7 and 8\r\n\t\tif (document.body.scrollTop) return document.body.scrollTop;\r\n\t\treturn 0;\r\n\t}\r\n\r\n}\r\n\r\nScrollToDirective.meta = {\r\n\tselector: `[(scrollTo)]`\r\n};\r\n","export default class DownloadService {\r\n\r\n\tstatic get a() {\r\n\t\tlet a = this.a_;\r\n\t\tif (!a) {\r\n\t\t\ta = document.createElement(\"a\");\r\n\t\t\ta.style = \"display: none\";\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\tthis.a_ = a;\r\n\t\t}\r\n\t\treturn a;\r\n\t}\r\n\r\n\tstatic download(blob, fileName = 'download.txt') {\r\n\t\t// var json = JSON.stringify(data),\r\n\t\t// blob = new Blob([json], {type: \"octet/stream\"}),\r\n\t\tconst url = window.URL.createObjectURL(blob);\r\n\t\tconst a = this.a;\r\n\t\ta.href = url;\r\n\t\ta.download = fileName;\r\n\t\ta.click();\r\n\t\twindow.URL.revokeObjectURL(url);\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { first, map, takeUntil } from 'rxjs/operators';\r\nimport DownloadService from '../download/download.service';\r\nimport { STATIC } from '../environment';\r\nimport HttpService from '../http/http.service';\r\nimport ModalService, { ModalResolveEvent } from '../modal/modal.service';\r\nimport UserService from '../user/user.service';\r\n\r\nconst src = STATIC ? '/stipa/auth-modal.html' : '/stipa/auth-modal.html';\r\n\r\nexport default class SecureDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tfromEvent(node, 'click').pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tthis.tryDownloadHref();\r\n\t\t});\r\n\t}\r\n\r\n\ttryDownloadHref() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst href = node.getAttribute('href');\r\n\t\tHttpService.get$(href, undefined, 'blob').pipe(\r\n\t\t\tfirst(),\r\n\t\t\tmap(response => response.data),\r\n\t\t).subscribe(blob => {\r\n\t\t\tDownloadService.download(blob, href.split('/').pop());\r\n\t\t}, error => {\r\n\t\t\tconsole.log('SecureDirective.tryDownloadHref', error);\r\n\t\t\tthis.onLogin();\r\n\t\t});\r\n\t}\r\n\r\n\tonLogin() {\r\n\t\tconsole.log('SecureDirective.onLogin');\r\n\t\tModalService.open$({ src: src, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('SecureDirective.onLogin', event);\r\n\t\t\tif (event instanceof ModalResolveEvent) {\r\n\t\t\t\tUserService.setUser(event.data);\r\n\t\t\t\tthis.tryDownloadHref();\r\n\t\t\t}\r\n\t\t});\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n}\r\n\r\nSecureDirective.meta = {\r\n\tselector: '[secure]',\r\n};\r\n","import { Component } from 'rxcomp';\r\n\r\nexport default class ShareComponent extends Component {\r\n\r\n\tget facebookUrl() {\r\n\t\treturn `https://www.facebook.com/sharer/sharer.php?u=${this.getUrl()}`;\r\n\t}\r\n\r\n\tget pinterestUrl() {\r\n\t\treturn `https://www.pinterest.com/pin/create/button/?url=${this.getUrl()}&media=&description=${this.getTitle()}`;\r\n\t}\r\n\r\n\tget linkedInUrl() {\r\n\t\treturn `https://www.linkedin.com/shareArticle?mini=true&url=${this.getUrl()}&title=${this.getTitle()}`;\r\n\t}\r\n\r\n\tget twitterUrl() {\r\n\t\treturn `https://twitter.com/intent/tweet?text=${this.getTitle()}%20${this.getUrl()}`;\r\n\t}\r\n\r\n\tget whatsappUrl() {\r\n\t\treturn `https://api.whatsapp.com/send?text=${this.getUrl()}`;\r\n\t}\r\n\r\n\tget mailToUrl() {\r\n\t\treturn `mailto:?subject=${this.getTitle()}&body=${this.getUrl()}`;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconsole.log('ShareComponent.onInit', this.share, this.title);\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconsole.log('ShareComponent.onChanges', this.share, this.title);\r\n\t}\r\n\r\n\tgetTitle() {\r\n\t\tlet title = this.title ? this.title : document.title;\r\n\t\treturn this.encodeURI(title);\r\n\t}\r\n\r\n\tgetUrl() {\r\n\t\tlet url = this.share;\r\n\t\tif (url) {\r\n\t\t\tif (url.indexOf(window.location.origin) === -1) {\r\n\t\t\t\turl = window.location.origin + (url.indexOf('/') === 0 ? url : ('/' + url));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\turl = window.location.href;\r\n\t\t}\r\n\t\treturn this.encodeURI(url);\r\n\t}\r\n\r\n\tencodeURI(text) {\r\n\t\treturn encodeURIComponent(text).replace(/[!'()*]/g, function(c) {\r\n\t\t\treturn '%' + c.charCodeAt(0).toString(16);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nShareComponent.meta = {\r\n\tselector: '[share]',\r\n\tinputs: ['share', 'title'],\r\n\ttemplate: /* html */`\r\n\t<ul class=\"nav--share\">\r\n\t\t<li>\r\n\t\t\t<a [href]=\"facebookUrl\" target=\"_blank\"><svg class=\"facebook\"><use xlink:href=\"#facebook\"></use></svg></a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a [href]=\"twitterUrl\" target=\"_blank\"><svg class=\"twitter\"><use xlink:href=\"#twitter\"></use></svg></a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a [href]=\"pinterestUrl\" target=\"_blank\"><svg class=\"pinterest\"><use xlink:href=\"#pinterest\"></use></svg></a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a [href]=\"linkedInUrl\" target=\"_blank\"><svg class=\"linkedin\"><use xlink:href=\"#linkedin\"></use></svg></a>\r\n\t\t</li>\r\n\t\t<!--\r\n\t\t<li>\r\n\t\t\t<a [href]=\"whatsappUrl\" target=\"_blank\"><svg class=\"whatsapp\"><use xlink:href=\"#whatsapp\"></use></svg></a>\r\n\t\t</li>\r\n\t\t<li>\r\n\t\t\t<a [href]=\"mailToUrl\"><svg class=\"email\"><use xlink:href=\"#email\"></use></svg></a>\r\n\t\t</li>\r\n\t\t-->\r\n\t</ul>\r\n\t`,\r\n};\r\n","import { fromEvent, merge, ReplaySubject, Subject } from 'rxjs';\r\nimport { filter, map, startWith, switchMap, takeUntil } from 'rxjs/operators';\r\n\r\nexport class DragPoint {\r\n\tconstructor() {\r\n\t\tthis.x = 0;\r\n\t\tthis.y = 0;\r\n\t}\r\n}\r\n\r\nexport class DragEvent {\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class DragDownEvent extends DragEvent {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t\tthis.distance = new DragPoint();\r\n\t\tthis.strength = new DragPoint();\r\n\t\tthis.speed = new DragPoint();\r\n\t}\r\n}\r\n\r\nexport class DragMoveEvent extends DragEvent {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t\tthis.distance = new DragPoint();\r\n\t\tthis.strength = new DragPoint();\r\n\t\tthis.speed = new DragPoint();\r\n\t}\r\n}\r\n\r\nexport class DragUpEvent extends DragEvent {\r\n\tconstructor(options) {\r\n\t\tsuper(options);\r\n\t}\r\n}\r\n\r\nexport default class DragService {\r\n\r\n\tstatic getPosition(event, point) {\r\n\t\tif (event instanceof MouseEvent) {\r\n\t\t\tpoint ? (\r\n\t\t\t\tpoint.x = event.clientX,\r\n\t\t\t\tpoint.y = event.clientY\r\n\t\t\t) : point = {\r\n\t\t\t\tx: event.clientX,\r\n\t\t\t\ty: event.clientY\r\n\t\t\t};\r\n\t\t} else if (event instanceof TouchEvent) {\r\n\t\t\tif (event.touches.length > 0) {\r\n\t\t\t\tpoint ? (\r\n\t\t\t\t\tpoint.x = event.touches[0].pageX,\r\n\t\t\t\t\tpoint.y = event.touches[0].pageY\r\n\t\t\t\t) : point = {\r\n\t\t\t\t\tx: event.touches[0].pageX,\r\n\t\t\t\t\ty: event.touches[0].pageY\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn point;\r\n\t}\r\n\r\n\tstatic down$(target, events$) {\r\n\t\tlet downEvent;\r\n\t\treturn merge(\r\n\t\t\tfromEvent(target, 'mousedown'),\r\n\t\t\tfromEvent(target, 'touchstart')\r\n\t\t).pipe(\r\n\t\t\tmap((event) => {\r\n\t\t\t\tdownEvent = downEvent || new DragDownEvent();\r\n\t\t\t\tdownEvent.node = target;\r\n\t\t\t\tdownEvent.target = event.target;\r\n\t\t\t\tdownEvent.originalEvent = event;\r\n\t\t\t\tdownEvent.down = this.getPosition(event, downEvent.down);\r\n\t\t\t\tif (downEvent.down) {\r\n\t\t\t\t\tdownEvent.distance = new DragPoint();\r\n\t\t\t\t\tdownEvent.strength = new DragPoint();\r\n\t\t\t\t\tdownEvent.speed = new DragPoint();\r\n\t\t\t\t\tevents$.next(downEvent);\r\n\t\t\t\t\treturn downEvent;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tfilter(event => event !== undefined),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic move$(target, events$, dismiss$, downEvent) {\r\n\t\tlet moveEvent;\r\n\t\treturn fromEvent(document, downEvent.originalEvent instanceof MouseEvent ? 'mousemove' : 'touchmove').pipe(\r\n\t\t\tstartWith(downEvent),\r\n\t\t\tmap((event) => {\r\n\t\t\t\tmoveEvent = moveEvent || new DragMoveEvent();\r\n\t\t\t\tmoveEvent.node = target;\r\n\t\t\t\tmoveEvent.target = event.target;\r\n\t\t\t\tmoveEvent.originalEvent = event;\r\n\t\t\t\tmoveEvent.position = this.getPosition(event, moveEvent.position);\r\n\t\t\t\tconst dragging = downEvent.down !== undefined && moveEvent.position !== undefined;\r\n\t\t\t\tif (dragging) {\r\n\t\t\t\t\tmoveEvent.distance.x = moveEvent.position.x - downEvent.down.x;\r\n\t\t\t\t\tmoveEvent.distance.y = moveEvent.position.y - downEvent.down.y;\r\n\t\t\t\t\tmoveEvent.strength.x = moveEvent.distance.x / window.innerWidth * 2;\r\n\t\t\t\t\tmoveEvent.strength.y = moveEvent.distance.y / window.innerHeight * 2;\r\n\t\t\t\t\tmoveEvent.speed.x = downEvent.speed.x + (moveEvent.strength.x - downEvent.strength.x) * 0.1;\r\n\t\t\t\t\tmoveEvent.speed.y = downEvent.speed.y + (moveEvent.strength.y - downEvent.strength.y) * 0.1;\r\n\t\t\t\t\tdownEvent.distance.x = moveEvent.distance.x;\r\n\t\t\t\t\tdownEvent.distance.y = moveEvent.distance.y;\r\n\t\t\t\t\tdownEvent.speed.x = moveEvent.speed.x;\r\n\t\t\t\t\tdownEvent.speed.y = moveEvent.speed.y;\r\n\t\t\t\t\tdownEvent.strength.x = moveEvent.strength.x;\r\n\t\t\t\t\tdownEvent.strength.y = moveEvent.strength.y;\r\n\t\t\t\t\tevents$.next(moveEvent);\r\n\t\t\t\t\treturn moveEvent;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic up$(target, events$, dismiss$, downEvent) {\r\n\t\tlet upEvent;\r\n\t\treturn fromEvent(document, downEvent.originalEvent instanceof MouseEvent ? 'mouseup' : 'touchend').pipe(\r\n\t\t\tmap(event => {\r\n\t\t\t\tupEvent = upEvent || new DragUpEvent();\r\n\t\t\t\tevents$.next(upEvent);\r\n\t\t\t\tdismiss$.next();\r\n\t\t\t\t// console.log(downEvent.distance);\r\n\t\t\t\tif (Math.abs(downEvent.distance.x) > 10) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t}\r\n\t\t\t\treturn upEvent;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic events$(target) {\r\n\t\ttarget = target || document;\r\n\t\tconst events$ = new ReplaySubject(1);\r\n\t\tconst dismiss$ = new Subject();\r\n\t\treturn this.down$(target, events$).pipe(\r\n\t\t\tswitchMap((downEvent) => merge(\r\n\t\t\t\tthis.move$(target, events$, dismiss$, downEvent),\r\n\t\t\t\tthis.up$(target, events$, dismiss$, downEvent),\r\n\t\t\t).pipe(\r\n\t\t\t\ttakeUntil(dismiss$),\r\n\t\t\t)),\r\n\t\t\tswitchMap(() => events$),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { interval, of, Subject } from 'rxjs';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport DragService, { DragDownEvent, DragMoveEvent, DragUpEvent } from '../drag/drag.service';\r\n\r\nexport default class SliderComponent extends Component {\r\n\r\n\tget items() {\r\n\t\treturn this.items_ || [];\r\n\t}\r\n\tset items(items) {\r\n\t\tif (this.items_ !== items) {\r\n\t\t\tthis.items_ = items;\r\n\t\t}\r\n\t}\r\n\r\n\tget current() {\r\n\t\treturn this.state.current || 0;\r\n\t}\r\n\tset current(current = 0) {\r\n\t\tif (this.state.current !== current) {\r\n\t\t\tthis.state.current = current;\r\n\t\t\t// console.log('current');\r\n\t\t\tthis.change.next(current);\r\n\t\t}\r\n\t\t// this.state.current = Math.min(current, items ? items.length - 1 : 0);\r\n\t}\r\n\r\n\tget state() {\r\n\t\tif (!this.state_) {\r\n\t\t\tthis.state_ = { current: 0 };\r\n\t\t}\r\n\t\treturn this.state_;\r\n\t}\r\n\r\n\tget wrapperStyle() {\r\n\t\treturn { 'transform': 'translate3d(' + -100 * this.state.current + '%, 0, 0)' };\r\n\t}\r\n\r\n\tget innerStyle() {\r\n\t\treturn { 'width': 100 * this.items.length + '%' };\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.container = node;\r\n\t\tthis.wrapper = node.querySelector('.slider__wrapper');\r\n\t\tif (this.items.length === 0) {\r\n\t\t\tconst items = Array.prototype.slice.call(node.querySelectorAll('.slider__slide'));\r\n\t\t\tthis.items = items;\r\n\t\t}\r\n\t\t// console.log('SliderComponent.onInit', this.items);\r\n\t\tthis.userGesture$ = new Subject();\r\n\t\tsetTimeout(() => {\r\n\t\t\t// this.change.next(this.current);\r\n\t\t\t/*\r\n\t\t\tgsap.set(this.wrapper, {\r\n\t\t\t\tx: -100 * this.current + '%',\r\n\t\t\t});\r\n\t\t\t*/\r\n\t\t\tthis.slider$().pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\t// console.log('dragService', event);\r\n\t\t\t});\r\n\t\t}, 1);\r\n\t\tthis.autoplay$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(() => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tslider$() {\r\n\t\tlet translation, dragDownEvent, dragMoveEvent;\r\n\t\treturn DragService.events$(this.wrapper).pipe(\r\n\t\t\ttap((event) => {\r\n\t\t\t\tif (event instanceof DragDownEvent) {\r\n\t\t\t\t\ttranslation = this.getTranslation(this.wrapper, this.container);\r\n\t\t\t\t\tdragDownEvent = event;\r\n\t\t\t\t} else if (event instanceof DragMoveEvent) {\r\n\t\t\t\t\tdragMoveEvent = this.onDragMoveEvent(dragDownEvent, event, translation);\r\n\t\t\t\t\t// console.log('DragMoveEvent');\r\n\t\t\t\t} else if (event instanceof DragUpEvent) {\r\n\t\t\t\t\tif (dragMoveEvent) {\r\n\t\t\t\t\t\tthis.container.classList.remove('dragging');\r\n\t\t\t\t\t\tthis.wrapper.style.transform = null;\r\n\t\t\t\t\t\tthis.onDragUpEvent(dragDownEvent, dragMoveEvent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log('DragUpEvent');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tautoplay$() {\r\n\t\tif (this.autoplay) {\r\n\t\t\tconst autoplay = typeof this.autoplay === 'number' ? this.autoplay : 4000;\r\n\t\t\treturn interval(autoplay).pipe(\r\n\t\t\t\ttakeUntil(this.userGesture$),\r\n\t\t\t\ttap(() => {\r\n\t\t\t\t\tthis.current = (this.current + 1) % this.items.length;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of(null);\r\n\t\t}\r\n\t}\r\n\r\n\tonDragMoveEvent(dragDownEvent, dragMoveEvent, translation) {\r\n\t\tthis.container.classList.add('dragging');\r\n\t\tconst transformX = translation.x + dragMoveEvent.distance.x;\r\n\t\tthis.wrapper.style.transform = `translate3d(${transformX}px, ${0}px, ${0}px)`;\r\n\t\treturn dragMoveEvent;\r\n\t}\r\n\r\n\tonDragUpEvent(dragDownEvent, dragMoveEvent) {\r\n\t\tconst width = this.container.offsetWidth;\r\n\t\tif (dragMoveEvent.distance.x * -1 > width * 0.25 && this.hasNext()) {\r\n\t\t\tthis.navTo(this.current + 1);\r\n\t\t} else if (dragMoveEvent.distance.x * -1 < width * -0.25 && this.hasPrev()) {\r\n\t\t\tthis.navTo(this.current - 1);\r\n\t\t} else {\r\n\t\t\tthis.wrapper.style.transform = `translate3d(${-100 * this.current}%, 0, 0)`;\r\n\t\t\t// this.navTo(this.current);\r\n\t\t}\r\n\t\t// this.navTo(current);\r\n\t}\r\n\r\n\tnavTo(current) {\r\n\t\tcurrent = (current > 0 ? current : this.items.length + current) % this.items.length;\r\n\t\tthis.current = current;\r\n\t\tthis.userGesture$.next();\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\thasPrev() {\r\n\t\treturn this.current - 1 >= 0;\r\n\t}\r\n\r\n\thasNext() {\r\n\t\treturn this.current + 1 < this.items.length;\r\n\t}\r\n\r\n\tgetTranslation(node, container) {\r\n\t\tlet x = 0,\r\n\t\t\ty = 0,\r\n\t\t\tz = 0;\r\n\t\tconst transform = node.style.transform;\r\n\t\tif (transform) {\r\n\t\t\tconst coords = transform.split('(')[1].split(')')[0].split(',');\r\n\t\t\tx = parseFloat(coords[0]);\r\n\t\t\ty = parseFloat(coords[1]);\r\n\t\t\tz = parseFloat(coords[2]);\r\n\t\t\tx = coords[0].indexOf('%') !== -1 ? x *= container.offsetWidth * 0.01 : x;\r\n\t\t\ty = coords[1].indexOf('%') !== -1 ? y *= container.offsetHeight * 0.01 : y;\r\n\t\t}\r\n\t\treturn { x, y, z };\r\n\t}\r\n}\r\n\r\nSliderComponent.meta = {\r\n\tselector: '[slider]',\r\n\tinputs: ['items', 'current', 'autoplay'],\r\n\toutputs: ['change', 'tween'],\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { animationFrameScheduler, combineLatest, fromEvent, interval } from 'rxjs';\r\nimport { map, takeUntil, tap } from 'rxjs/operators';\r\nimport SliderComponent from './slider.component';\r\n\r\nexport default class SliderCaseStudyComponent extends SliderComponent {\r\n\r\n\tget items() {\r\n\t\treturn this.items_ || [];\r\n\t}\r\n\tset items(items) {\r\n\t\tif (this.items_ !== items) {\r\n\t\t\tthis.items_ = items;\r\n\t\t}\r\n\t}\r\n\r\n\tget current() {\r\n\t\treturn this.state.current || 0;\r\n\t}\r\n\tset current(current = 0) {\r\n\t\tif (this.state.current !== current) {\r\n\t\t\tthis.state.current = current;\r\n\t\t\tthis.change.next(current);\r\n\t\t}\r\n\t}\r\n\r\n\tget state() {\r\n\t\tif (!this.state_) {\r\n\t\t\tthis.state_ = { current: 0 };\r\n\t\t}\r\n\t\treturn this.state_;\r\n\t}\r\n\r\n\tget wrapperStyle() {\r\n\t\treturn { 'transform': 'translate3d(' + -this.slideWidth * this.state.current + 'px, 0, 0)' };\r\n\t}\r\n\r\n\tget innerStyle() {\r\n\t\treturn { 'width': this.slideWidth * this.items.length + 'px' };\r\n\t}\r\n\r\n\tget slideWidth() {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// const slides = Array.prototype.slice.call(node.querySelectorAll('.slider__slide'));\r\n\t\tconst slideWidth = (window.innerWidth < 768 ? node.offsetWidth: (node.offsetWidth / 12 * 10)) + 40;\r\n\t\treturn slideWidth;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.resize$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => this.pushChanges());\r\n\t\tthis.changed$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setActiveState();\r\n\t\t}, 500);\r\n\t}\r\n\r\n\tset direction(direction) {\r\n\t\tif (this.direction_ !== direction) {\r\n\t\t\tthis.direction_ = direction;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst pagination = node.querySelector('.slider__pagination');\r\n\t\t\tif (direction == 1) {\r\n\t\t\t\tpagination.classList.remove('prev');\r\n\t\t\t\tpagination.classList.add('next');\r\n\t\t\t} else {\r\n\t\t\t\tpagination.classList.remove('next');\r\n\t\t\t\tpagination.classList.add('prev');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tresize$() {\r\n\t\treturn fromEvent(window, 'resize');\r\n\t}\r\n\r\n\traf$() {\r\n\t\treturn interval(0, animationFrameScheduler);\r\n\t}\r\n\r\n\tmouse$() {\r\n\t\tconst event = { x:0, y: 0};\r\n\t\treturn fromEvent(window, 'mousemove').pipe(\r\n\t\t\tmap(mouseEvent => {\r\n\t\t\t\tevent.x = mouseEvent.clientX;\r\n\t\t\t\tevent.y = mouseEvent.clientY;\r\n\t\t\t\treturn event;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tpagination$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst position = { x:0, y: 0};\r\n\t\tconst pagination = node.querySelector('.slider__pagination');\r\n\t\treturn combineLatest([this.mouse$(), this.raf$()]).pipe(\r\n\t\t\ttap(datas => {\r\n\t\t\t\tconst mouse = datas[0];\r\n\t\t\t\tposition.x += (mouse.x - position.x) / 20;\r\n\t\t\t\tposition.y += (mouse.y - position.y) / 20;\r\n\t\t\t\t// const rect = node.getBoundingClientRect();\r\n\t\t\t\tthis.direction = mouse.x > window.innerWidth / 2 ? 1 : -1;\r\n\t\t\t\tpagination.style.transform = `translateX(${position.x}px) translateY(${position.y}px)`;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tclick$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\tmap(event => {\r\n\t\t\t\tif (event.clientX > window.innerWidth / 2) {\r\n\t\t\t\t\t// if (this.hasNext()) {\r\n\t\t\t\t\t\tthis.navTo(this.state.current + 1);\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// if (this.hasPrev()) {\r\n\t\t\t\t\t\tthis.navTo(this.state.current - 1);\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tchanged$() {\r\n\t\treturn this.change.pipe(\r\n\t\t\ttap(() => this.setActiveState()),\r\n\t\t);\r\n\t}\r\n\r\n\tsetActiveState() {\r\n\t\tconst current = this.current;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst slides = Array.prototype.slice.call(node.querySelectorAll('.slider__slide'));\r\n\t\tslides.forEach((slide, i) => i === current ? slide.classList.add('active') : slide.classList.remove('active'));\r\n\t}\r\n\r\n\tonContentOver() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('content-over');\r\n\t}\r\n\r\n\tonContentOut() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('content-over');\r\n\t}\r\n\r\n\tnavTo(current) {\r\n\t\tsuper.navTo(current);\r\n\t}\r\n}\r\n\r\nSliderCaseStudyComponent.meta = {\r\n\tselector: '[slider-case-study]',\r\n\tinputs: ['items', 'current', 'autoplay'],\r\n\toutputs: ['change', 'tween'],\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { animationFrameScheduler, combineLatest, fromEvent, interval } from 'rxjs';\r\nimport { map, takeUntil, tap } from 'rxjs/operators';\r\nimport SliderComponent from './slider.component';\r\n\r\nexport default class SliderHeroComponent extends SliderComponent {\r\n\r\n\tget items() {\r\n\t\treturn this.items_ || [];\r\n\t}\r\n\tset items(items) {\r\n\t\tif (this.items_ !== items) {\r\n\t\t\tthis.items_ = items;\r\n\t\t}\r\n\t}\r\n\r\n\tget current() {\r\n\t\treturn this.state.current || 0;\r\n\t}\r\n\tset current(current = 0) {\r\n\t\tif (this.state.current !== current) {\r\n\t\t\tthis.state.current = current;\r\n\t\t\tthis.change.next(current);\r\n\t\t}\r\n\t}\r\n\r\n\tget state() {\r\n\t\tif (!this.state_) {\r\n\t\t\tthis.state_ = { current: 0 };\r\n\t\t}\r\n\t\treturn this.state_;\r\n\t}\r\n\r\n\tget wrapperStyle() {\r\n\t\treturn { 'transform': 'translate3d(' + -100 * this.state.current + '%, 0, 0)' };\r\n\t}\r\n\r\n\tget innerStyle() {\r\n\t\treturn { 'width': 100 * this.items.length + '%' };\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.pagination$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\tthis.click$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\tthis.changed$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setActiveState();\r\n\t\t}, 500);\r\n\t}\r\n\r\n\tset direction(direction) {\r\n\t\tif (this.direction_ !== direction) {\r\n\t\t\tthis.direction_ = direction;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst pagination = node.querySelector('.slider__pagination');\r\n\t\t\tif (direction == 1) {\r\n\t\t\t\tpagination.classList.remove('prev');\r\n\t\t\t\tpagination.classList.add('next');\r\n\t\t\t} else {\r\n\t\t\t\tpagination.classList.remove('next');\r\n\t\t\t\tpagination.classList.add('prev');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\traf$() {\r\n\t\treturn interval(0, animationFrameScheduler);\r\n\t}\r\n\r\n\tmouse$() {\r\n\t\tconst event = { x:0, y: 0};\r\n\t\treturn fromEvent(window, 'mousemove').pipe(\r\n\t\t\tmap(mouseEvent => {\r\n\t\t\t\tevent.x = mouseEvent.clientX;\r\n\t\t\t\tevent.y = mouseEvent.clientY;\r\n\t\t\t\treturn event;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tpagination$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst position = { x:0, y: 0};\r\n\t\tconst pagination = node.querySelector('.slider__pagination');\r\n\t\treturn combineLatest([this.mouse$(), this.raf$()]).pipe(\r\n\t\t\ttap(datas => {\r\n\t\t\t\tconst mouse = datas[0];\r\n\t\t\t\tposition.x += (mouse.x - position.x) / 20;\r\n\t\t\t\tposition.y += (mouse.y - position.y) / 20;\r\n\t\t\t\t// const rect = node.getBoundingClientRect();\r\n\t\t\t\tthis.direction = mouse.x > window.innerWidth / 2 ? 1 : -1;\r\n\t\t\t\tpagination.style.transform = `translateX(${position.x}px) translateY(${position.y}px)`;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tclick$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\tmap(event => {\r\n\t\t\t\tif (event.clientX > window.innerWidth / 2) {\r\n\t\t\t\t\t// if (this.hasNext()) {\r\n\t\t\t\t\t\tthis.navTo(this.state.current + 1);\r\n\t\t\t\t\t// }\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// if (this.hasPrev()) {\r\n\t\t\t\t\t\tthis.navTo(this.state.current - 1);\r\n\t\t\t\t\t// }\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tchanged$() {\r\n\t\treturn this.change.pipe(\r\n\t\t\ttap(() => this.setActiveState()),\r\n\t\t);\r\n\t}\r\n\r\n\tsetActiveState() {\r\n\t\tconst current = this.current;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst slides = Array.prototype.slice.call(node.querySelectorAll('.slider__slide'));\r\n\t\tslides.forEach((slide, i) => i === current ? slide.classList.add('active') : slide.classList.remove('active'));\r\n\t}\r\n\r\n\tonContentOver() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('content-over');\r\n\t}\r\n\r\n\tonContentOut() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('content-over');\r\n\t}\r\n\r\n}\r\n\r\nSliderHeroComponent.meta = {\r\n\tselector: '[slider-hero]',\r\n\tinputs: ['items', 'current', 'autoplay'],\r\n\toutputs: ['change', 'tween'],\r\n};\r\n","import { Pipe } from \"rxcomp\";\r\nimport { getSlug } from \"../environment\";\r\n\r\nexport default class SlugPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\treturn getSlug(value);\r\n\t}\r\n\r\n}\r\n\r\nSlugPipe.meta = {\r\n\tname: 'slug',\r\n};\r\n","import { Context } from 'rxcomp';\r\n\r\nexport default class VirtualItem extends Context {\r\n\tconstructor(key, $key, value, $value, index, count, parentInstance) {\r\n\t\tsuper(parentInstance);\r\n\t\tthis[key] = $key;\r\n\t\tthis[value] = $value;\r\n\t\tthis.index = index;\r\n\t\tthis.count = count;\r\n\t}\r\n\r\n\tget first() {\r\n\t\treturn this.index === 0;\r\n\t}\r\n\r\n\tget last() {\r\n\t\treturn this.index === this.count - 1;\r\n\t}\r\n\r\n\tget even() {\r\n\t\treturn this.index % 2 === 0;\r\n\t}\r\n\r\n\tget odd() {\r\n\t\treturn !this.even;\r\n\t}\r\n}\r\n","import { getContext, Structure } from 'rxcomp';\r\nimport { BehaviorSubject, fromEvent, merge } from 'rxjs';\r\nimport { auditTime, map, startWith, takeUntil, tap } from 'rxjs/operators';\r\nimport VirtualItem from './virtual.item';\r\n\r\nexport const VirtualMode = {\r\n\tResponsive: 1,\r\n\tGrid: 2,\r\n\tCentered: 3,\r\n\tList: 4\r\n};\r\n\r\nexport default class VirtualStructure extends Structure {\r\n\r\n\tonInit() {\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst template = node.firstElementChild;\r\n\t\tconst expression = node.getAttribute('*virtual');\r\n\t\tnode.removeAttribute('*virtual');\r\n\t\tnode.removeChild(template);\r\n\t\tconst tokens = (this.tokens = this.getExpressionTokens(expression));\r\n\t\tthis.virtualFunction = module.makeFunction(tokens.iterable);\r\n\t\tthis.container = node;\r\n\t\tthis.template = template;\r\n\t\tthis.mode = this.mode || 1;\r\n\t\tthis.width = this.width || 250;\r\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\r\n\t\tthis.options = {\r\n\t\t\ttop: 0,\r\n\t\t\twidth: this.width,\r\n\t\t\tgutter: this.gutter,\r\n\t\t\tcontainerWidth: 0,\r\n\t\t\tcontainerHeight: 0,\r\n\t\t\tcols: [0],\r\n\t\t\tstrategy: 1\r\n\t\t};\r\n\t\tthis.cachedRects = {};\r\n\t\tthis.cachedInstances = [];\r\n\t\tthis.cacheNodes = [];\r\n\t\tthis.items$ = new BehaviorSubject([]);\r\n\t\tthis.update$()\r\n\t\t\t.pipe(takeUntil(this.unsubscribe$))\r\n\t\t\t.subscribe(visibleItems => {\r\n\t\t\t\t// console.log(visibleItems.length);\r\n\t\t\t});\r\n\t}\r\n\r\n\tonChanges(changes) {\r\n\t\tconst context = getContext(this);\r\n\t\tconst module = context.module;\r\n\t\t// resolve\r\n\t\tconst items = module.resolve(this.virtualFunction, context.parentInstance, this) || [];\r\n\t\tthis.mode = this.mode || 1;\r\n\t\tthis.width = this.width || 250;\r\n\t\tthis.gutter = (this.gutter !== undefined) ? this.gutter : 20;\r\n\t\tthis.options.width = this.width;\r\n\t\tthis.updateView(true);\r\n\t\tthis.items$.next(items);\r\n\t}\r\n\r\n\tupdate$() {\r\n\t\treturn merge(this.scroll$(), this.resize$(), this.items$).pipe(\r\n\t\t\tmap(datas => {\r\n\t\t\t\tconst options = this.options;\r\n\t\t\t\tconst items = this.items$.getValue();\r\n\t\t\t\tconst total = items.length;\r\n\t\t\t\tthis.container.position = 'relative';\r\n\t\t\t\tlet highestHeight = 0;\r\n\t\t\t\tconst width = this.getWidth();\r\n\t\t\t\tconst gutter = this.getGutter(width);\r\n\t\t\t\tconst visibleItems = items.filter((item, i) => {\r\n\t\t\t\t\tlet col, height, top, left, bottom;\r\n\t\t\t\t\tlet rect = this.cachedRects[i];\r\n\t\t\t\t\tif (rect) {\r\n\t\t\t\t\t\tcol = rect.col;\r\n\t\t\t\t\t\theight = rect.height;\r\n\t\t\t\t\t\tleft = rect.left;\r\n\t\t\t\t\t\t// top = rect.top;\r\n\t\t\t\t\t\t// bottom = rect.bottom;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcol = this.getCol();\r\n\t\t\t\t\t\theight = this.getHeight(width, item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttop = options.cols[col];\r\n\t\t\t\t\tif (this.intersect(top + options.top, top + height + options.top, 0, options.containerHeight)) {\r\n\t\t\t\t\t\tif (!rect) {\r\n\t\t\t\t\t\t\tleft = this.getLeft(col, width, gutter);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconst node = this.cachedNode(i, i, item, total);\r\n\t\t\t\t\t\tnode.style.position = 'absolute';\r\n\t\t\t\t\t\tnode.style.top = top + 'px';\r\n\t\t\t\t\t\tnode.style.left = left + 'px';\r\n\t\t\t\t\t\tnode.style.width = width + 'px';\r\n\t\t\t\t\t\tif (height !== node.offsetHeight) {\r\n\t\t\t\t\t\t\theight = node.offsetHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbottom = top + height + options.gutter;\r\n\t\t\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\r\n\t\t\t\t\t\toptions.cols[col] = bottom;\r\n\t\t\t\t\t\tif (!rect) {\r\n\t\t\t\t\t\t\tthis.cachedRects[i] = { col, width, height, left, top, bottom };\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\trect.height = height;\r\n\t\t\t\t\t\t\trect.bottom = bottom;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.removeNode(i);\r\n\t\t\t\t\t\tbottom = top + height + options.gutter;\r\n\t\t\t\t\t\toptions.cols[col] = bottom;\r\n\t\t\t\t\t\thighestHeight = Math.max(highestHeight, bottom);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tlet removeIndex = items.length;\r\n\t\t\t\twhile (removeIndex < this.cacheNodes.length) {\r\n\t\t\t\t\tthis.removeNode(removeIndex);\r\n\t\t\t\t\tremoveIndex++;\r\n\t\t\t\t}\r\n\t\t\t\tthis.cacheNodes.length = items.length;\r\n\t\t\t\tthis.container.style.height = `${highestHeight}px`;\r\n\t\t\t\treturn visibleItems;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tgetCols() {\r\n\t\tconst options = this.options;\r\n\t\tconst cols = Math.floor((options.containerWidth + options.gutter) / (options.width + options.gutter)) || 1;\r\n\t\treturn new Array(cols).fill(0);\r\n\t}\r\n\r\n\tgetCol() {\r\n\t\tconst options = this.options;\r\n\t\tlet col;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\tcol = options.cols.reduce((p, c, i, a) => {\r\n\t\t\t\t\treturn c < a[p] ? i : p;\r\n\t\t\t\t}, 0);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\tcol = 0;\r\n\t\t}\r\n\t\treturn col;\r\n\t}\r\n\r\n\tgetWidth() {\r\n\t\tconst options = this.options;\r\n\t\tlet width;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\t\twidth = options.width;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\twidth = (options.containerWidth - (options.cols.length - 1) * options.gutter) / options.cols.length;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\twidth = options.containerWidth;\r\n\t\t}\r\n\t\treturn width;\r\n\t}\r\n\r\n\tgetHeight(width, item) {\r\n\t\tconst options = this.options;\r\n\t\tlet height;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\theight = options.width;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\theight = 80;\r\n\t\t}\r\n\t\treturn height;\r\n\t}\r\n\r\n\tgetGutter(width) {\r\n\t\tconst options = this.options;\r\n\t\tlet gutter;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\t\tgutter = options.gutter;\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\tgutter = (options.containerWidth - options.cols.length * width) / (options.cols.length - 1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\tgutter = 0;\r\n\t\t}\r\n\t\treturn gutter;\r\n\t}\r\n\r\n\tgetLeft(index, width, gutter) {\r\n\t\tconst options = this.options;\r\n\t\tlet left;\r\n\t\tswitch (this.mode) {\r\n\t\t\tcase VirtualMode.Grid:\r\n\t\t\tcase VirtualMode.Responsive:\r\n\t\t\t\tleft = index * (width + gutter);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.Centered:\r\n\t\t\t\tleft = (options.containerWidth - options.cols.length * (width + gutter) + gutter) / 2 + index * (width + gutter);\r\n\t\t\t\tbreak;\r\n\t\t\tcase VirtualMode.List:\r\n\t\t\tdefault:\r\n\t\t\t\tleft = 0;\r\n\t\t}\r\n\t\treturn left;\r\n\t}\r\n\r\n\tcachedNode(index, i, value, total) {\r\n\t\tif (this.cacheNodes[index]) {\r\n\t\t\treturn this.updateNode(index, i, value);\r\n\t\t} else {\r\n\t\t\treturn this.createNode(index, i, value, total);\r\n\t\t}\r\n\t}\r\n\r\n\tcreateNode(index, i, value, total) {\r\n\t\tconst clonedNode = this.template.cloneNode(true);\r\n\t\tdelete clonedNode.rxcompId;\r\n\t\tthis.container.appendChild(clonedNode);\r\n\t\tthis.cacheNodes[index] = clonedNode;\r\n\t\tconst context = getContext(this);\r\n\t\tconst module = context.module;\r\n\t\tconst tokens = this.tokens;\r\n\t\tconst args = [tokens.key, i, tokens.value, value, i, total, context.parentInstance];\r\n\t\tconst instance = module.makeInstance(clonedNode, VirtualItem, context.selector, context.parentInstance, args);\r\n\t\tconst forItemContext = getContext(instance);\r\n\t\tmodule.compile(clonedNode, forItemContext.instance);\r\n\t\tthis.cachedInstances[index] = instance;\r\n\t\treturn clonedNode;\r\n\t}\r\n\r\n\tupdateNode(index, i, value) {\r\n\t\tconst instance = this.cachedInstances[index];\r\n\t\tconst tokens = this.tokens;\r\n\t\tif (instance[tokens.key] !== i) {\r\n\t\t\tinstance[tokens.key] = i;\r\n\t\t\tinstance[tokens.value] = value;\r\n\t\t\tinstance.pushChanges();\r\n\t\t}\r\n\t\t// console.log(index, i, value);\r\n\t\treturn this.cacheNodes[index];\r\n\t}\r\n\r\n\tremoveNode(index) {\r\n\t\tthis.cachedInstances[index] = undefined;\r\n\t\tconst node = this.cacheNodes[index];\r\n\t\tif (node) {\r\n\t\t\tconst context = getContext(this);\r\n\t\t\tconst module = context.module;\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\tmodule.remove(node);\r\n\t\t}\r\n\t\tthis.cacheNodes[index] = undefined;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tintersect(top1, bottom1, top2, bottom2) {\r\n\t\treturn top2 < bottom1 && bottom2 > top1;\r\n\t}\r\n\r\n\tresize$() {\r\n\t\treturn fromEvent(window, 'resize').pipe(\r\n\t\t\tauditTime(100),\r\n\t\t\tstartWith(null),\r\n\t\t\ttap(() => this.updateView(true))\r\n\t\t);\r\n\t}\r\n\r\n\tscroll$(node) {\r\n\t\treturn fromEvent(window, 'scroll').pipe(tap(() => this.updateView()));\r\n\t}\r\n\r\n\tupdateView(reset) {\r\n\t\tconst rect = this.container.getBoundingClientRect();\r\n\t\tconst options = this.options;\r\n\t\toptions.top = rect.top;\r\n\t\toptions.containerWidth = rect.width;\r\n\t\toptions.containerHeight = window.innerHeight;\r\n\t\toptions.cols = this.getCols();\r\n\t\tif (reset) {\r\n\t\t\tthis.cachedRects = {};\r\n\t\t}\r\n\t}\r\n\r\n\tgetExpressionTokens(expression) {\r\n\t\tif (expression === null) {\r\n\t\t\tthrow new Error('invalid virtual');\r\n\t\t}\r\n\t\tif (expression.trim().indexOf('let ') === -1 || expression.trim().indexOf(' of ') === -1) {\r\n\t\t\tthrow new Error('invalid virtual');\r\n\t\t}\r\n\t\tconst expressions = expression\r\n\t\t\t.split(';')\r\n\t\t\t.map(x => x.trim())\r\n\t\t\t.filter(x => x !== '');\r\n\t\tconst virtualExpressions = expressions[0].split(' of ').map(x => x.trim());\r\n\t\tlet value = virtualExpressions[0].replace(/\\s*let\\s*/, '');\r\n\t\tconst iterable = virtualExpressions[1];\r\n\t\tlet key = 'index';\r\n\t\tconst keyValueMatches = value.match(/\\[(.+)\\s*,\\s*(.+)\\]/);\r\n\t\tif (keyValueMatches) {\r\n\t\t\tkey = keyValueMatches[1];\r\n\t\t\tvalue = keyValueMatches[2];\r\n\t\t}\r\n\t\tif (expressions.length > 1) {\r\n\t\t\tconst indexExpressions = expressions[1].split(/\\s*let\\s*|\\s*=\\s*index/).map(x => x.trim());\r\n\t\t\tif (indexExpressions.length === 3) {\r\n\t\t\t\tkey = indexExpressions[1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { key, value, iterable };\r\n\t}\r\n}\r\n\r\nVirtualStructure.meta = {\r\n\tselector: '[*virtual]',\r\n\tinputs: ['mode', 'width', 'gutter']\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport AppComponent from './app.component';\r\nimport AppearStaggerDirective from './appear/appear-stagger.directive';\r\nimport AppearDirective from './appear/appear.directive';\r\nimport AuthForgotComponent from './auth/auth-forgot.component';\r\nimport AuthModalComponent from './auth/auth-modal.component';\r\nimport AuthSigninComponent from './auth/auth-signin.component';\r\nimport AuthSignupComponent from './auth/auth-signup.component';\r\nimport AuthComponent from './auth/auth.component';\r\nimport ClickOutsideDirective from './click-outside/click-outside.directive';\r\nimport DropdownItemDirective from './dropdown/dropdown-item.directive';\r\nimport DropdownDirective from './dropdown/dropdown.directive';\r\nimport ControlCheckboxComponent from './forms/control-checkbox.component';\r\nimport ControlCustomSelectComponent from './forms/control-custom-select.component';\r\nimport ControlPasswordComponent from './forms/control-password.component';\r\nimport ControlTextComponent from './forms/control-text.component';\r\nimport ControlTextareaComponent from './forms/control-textarea.component';\r\nimport ErrorsComponent from './forms/errors.component';\r\nimport HeaderComponent from './header/header.component';\r\nimport HtmlPipe from './html/html.pipe';\r\nimport ModalOutletComponent from './modal/modal-outlet.component';\r\nimport ModalComponent from './modal/modal.component';\r\nimport ScrollToDirective from './scroll-to/scroll-to.directive';\r\nimport SecureDirective from './secure/secure.directive';\r\nimport ShareComponent from './share/share.component';\r\nimport SliderCaseStudyComponent from './slider/slider-case-study.component';\r\nimport SliderHeroComponent from './slider/slider-hero.component';\r\nimport SliderComponent from './slider/slider.component';\r\nimport SlugPipe from './slug/slug.pipe';\r\nimport VirtualStructure from './virtual/virtual.structure';\r\n\r\nexport default class AppModule extends Module { }\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tAppearDirective,\r\n\t\tAppearStaggerDirective,\r\n\t\tAuthComponent,\r\n\t\tAuthForgotComponent,\r\n\t\tAuthModalComponent,\r\n\t\tAuthSigninComponent,\r\n\t\tAuthSignupComponent,\r\n\t\tClickOutsideDirective,\r\n\t\tControlCheckboxComponent,\r\n\t\tControlCustomSelectComponent,\r\n\t\tControlPasswordComponent,\r\n\t\tControlTextComponent,\r\n\t\tControlTextareaComponent,\r\n\t\tDropdownDirective,\r\n\t\tDropdownItemDirective,\r\n\t\tErrorsComponent,\r\n\t\tHeaderComponent,\r\n\t\tHtmlPipe,\r\n\t\tModalComponent,\r\n\t\tModalOutletComponent,\r\n\t\tScrollToDirective,\r\n\t\tSecureDirective,\r\n\t\tShareComponent,\r\n\t\tSliderComponent,\r\n\t\tSliderHeroComponent,\r\n\t\tSliderCaseStudyComponent,\r\n\t\tSlugPipe,\r\n\t\tVirtualStructure\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport AppModule from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n"]}