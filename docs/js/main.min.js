/**
 * @license stipa v1.0.0
 * (c) 2020 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("rxcomp"),require("rxcomp-form"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define(["rxcomp","rxcomp-form","rxjs/operators","rxjs"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).rxcomp,t.rxcomp.form,t.rxjs.operators,t.rxjs)}(this,(function(t,e,n,i){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var c=0,u=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.onInit=function(){this.items={}},n.register=function(t){this.items[++c]=t},n.unregister=function(t){var e=this,n=Object.keys(this.items).reduce((function(n,i){return e.items[i]===t?i:n}),-1);-1!==n&&delete this.items[n]},n.toggle=function(t){var e=this;Object.keys(this.items).forEach((function(n){var i=e.items[n];i.active=i===t&&!i.active})),this.pushChanges()},e}(t.Component);u.meta={selector:"[accordion]"};var l=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.onInit=function(){if(!this.host)throw"missing Accordion host";this.host.register(this),this.active=!1},n.onDestroy=function(){this.host&&this.host.unregister(this)},n.onToggle=function(){this.host&&this.host.toggle(this)},e}(t.Component);l.meta={selector:"[accordion-item]",hosts:{host:u}};var h=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.onInit=function(){t.getContext(this).node.classList.remove("hidden")},n}(t.Component);h.meta={selector:"[app-component]"};var p=function(){function t(){}return t.observer=function(){var t=this;return this.observer_||(this.readySubject_=new i.BehaviorSubject(!1),this.observerSubject_=new i.Subject,this.observer_=new IntersectionObserver((function(e){t.observerSubject_.next(e)}))),this.observer_},t.intersection$=function(t){if("IntersectionObserver"in window){var e=this.observer();return e.observe(t),this.observerSubject_.pipe(n.map((function(e){return e.find((function(e){return e.target===t}))})),n.filter((function(t){return void 0!==t})),n.finalize((function(){return e.unobserve(t)})))}return i.of({target:t,isIntersecting:!0})},t.firstIntersection$=function(t){return this.intersection$(t).pipe(n.filter((function(t){return t.isIntersecting})),n.first())},t}(),d=function(e){function i(){return e.apply(this,arguments)||this}a(i,e);var o=i.prototype;return o.onInit=function(){t.getContext(this).node.classList.add("appear-stagger")},o.onChanges=function(){if(!this.appeared){this.appeared=!0;var e=t.getContext(this).node;p.firstIntersection$(e).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.classList.add("appeared")}))}},i}(t.Directive);d.meta={selector:"[appear-stagger]"};var f=function(e){function i(){return e.apply(this,arguments)||this}a(i,e);var o=i.prototype;return o.onInit=function(){t.getContext(this).node.classList.add("appear")},o.onChanges=function(){if(!this.appeared){this.appeared=!0;var e=t.getContext(this).node;p.firstIntersection$(e).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.classList.add("appeared")}))}},i}(t.Directive);f.meta={selector:".picture"};var m="undefined"!=typeof module&&module.exports,g=((m?{get:function(){}}:new URLSearchParams(window.location.search)).get("debug"),m?null:document.querySelector("base").getAttribute("href")),v=!m&&(window&&("41234"===window.location.port||"actarian.github.io"===window.location.host||"stipa.herokuapp.com"===window.location.host)),b=!m&&(window&&-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.host.split(":")[0])),y={NAME:"stipa",STATIC:v,DEVELOPMENT:b,PRODUCTION:!b,RESOURCE:"/docs/",STATIC_RESOURCE:"./",API:"/api",STATIC_API:v?"./api":"/api-static"};function w(t,e){return""+(e||v?y.STATIC_API:y.API)+t+(e||v?".json":"")}new(function(){function t(t){t&&Object.assign(this,t)}return r(t,[{key:"href",get:function(){return-1!==window.location.host.indexOf("herokuapp")?"https://raw.githubusercontent.com/actarian/stipa/master/docs/":g}},{key:"host",get:function(){var t=window.location.host.replace("127.0.0.1","192.168.1.2");return"/"===t.substr(t.length-1,1)&&(t=t.substr(0,t.length-1)),window.location.protocol+"//"+t+g}}]),t}())({port:5e3});var C=function(){function t(t){this.data=null,t&&(this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.ok=t.ok,this.redirected=t.redirected)}return r(t,[{key:"static",get:function(){return this.url.indexOf(".json")===this.url.length-5}}]),t}(),k=function(){function t(){}return t.http$=function(t,e,o,r){var s=this;void 0===r&&(r="json");var a=["POST","PUT","PATCH"],c=o&&-1!==a.indexOf(t)?JSON.stringify(o):void 0,u=o&&-1!==a.indexOf(t)?Object.keys(o).map((function(t){return t+"="+encodeURI(o[t])})).join("&"):void 0;u&&(e=e+"?"+u);var l=null;return i.from(fetch(e,{method:t,headers:{Accept:"application/json","Content-Type":"application/json"},body:c}).then((function(t){l=new C(t);try{var e=t.headers.get("content-type");return(e&&"json"===r&&-1!==e.indexOf("application/json")?t.json():"blob"===r?t.blob():t.text()).then((function(e){return l.data=e,t.ok?Promise.resolve(l):Promise.reject(l)}))}catch(e){return t.ok?(console.warn("HttpService.http$","Cannot parse response"),Promise.resolve(l)):Promise.reject(s.getError(e,l))}}))).pipe(n.catchError((function(t){return i.throwError(s.getError(t,l))})))},t.get$=function(t,e,n){var i=this.query(e);return this.http$("GET",""+t+i,void 0,n)},t.delete$=function(t){return this.http$("DELETE",t)},t.post$=function(t,e){return this.http$("POST",t,e)},t.put$=function(t,e){return this.http$("PUT",t,e)},t.patch$=function(t,e){return this.http$("PATCH",t,e)},t.query=function(t){return""},t.getError=function(t,e){var n="object"==typeof t?t:{};return n.statusCode||(n.statusCode=e?e.status:0),n.statusMessage||(n.statusMessage=e?e.statusText:t),console.log("HttpService.getError",n,t),n},t}(),x=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.get$=function(e,n,i){return t.get$.call(this,w(e),n,i)},e.delete$=function(e){return t.delete$.call(this,w(e))},e.post$=function(e,n){return t.post$.call(this,w(e),n)},e.put$=function(e,n){return t.put$.call(this,w(e),n)},e.patch$=function(e,n){return t.patch$.call(this,w(e),n)},e.staticGet$=function(e,n,i){return t.get$.call(this,w(e,!0),n,i)},e.staticDelete$=function(e){return t.delete$.call(this,w(e,!0))},e.staticPost$=function(e,n){return t.post$.call(this,w(e,!0),n)},e.staticPut$=function(e,n){return t.put$.call(this,w(e,!0),n)},e.staticPatch$=function(e,n){return t.patch$.call(this,w(e,!0),n)},e}(k);s(x,"currentLanguage",window.currentLanguage||"it");var $=function(){function e(){}return e.encode=function(e){return t.Serializer.encode(e,[t.encodeJson,encodeURIComponent,t.encodeBase64])||null},e.decode=function(e){return t.Serializer.decode(e,[t.decodeBase64,decodeURIComponent,t.decodeJson])},e.isSupported=function(e){var n,i=!1;try{n=t.WINDOW[e];var o="__storage_test__";n.setItem(o,o),n.removeItem(o),i=!0}catch(t){i=t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&Boolean(n&&0!==n.length)}return i},e}();s($,"supported",!1);var I=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.clear=function(){this.isSupported()&&(localStorage.clear(),this.items$.next(this.toArray()))},e.delete=function(t){this.isSupported()&&(localStorage.removeItem(t),this.items$.next(this.toArray()))},e.exist=function(t){return!!this.isSupported()&&void 0!==localStorage.getItem(t)},e.get=function(t){return this.decode(this.getRaw(t))},e.set=function(t,e){this.setRaw(t,this.encode(e))},e.getRaw=function(t){var e=null;return this.isSupported()&&(e=localStorage.getItem(t)),e},e.setRaw=function(t,e){e&&this.isSupported()&&(localStorage.setItem(t,e),this.items$.next(this.toArray()))},e.toArray=function(){var t=this;return this.toRawArray().map((function(e){return e.value=t.decode(e.value),e}))},e.toRawArray=function(){var t=this;return this.isSupported()?Object.keys(localStorage).map((function(e){return{name:e,value:t.getRaw(e)}})):[]},e.isSupported=function(){return!!this.supported||$.isSupported("localStorage")},e}($);s(I,"items$",new i.ReplaySubject(1));var S=function(){function t(t){t&&Object.assign(this,t)}return r(t,[{key:"avatar",get:function(){return(this.firstName||"?").substr(0,1).toUpperCase()+(this.lastName||"?").substr(0,1).toUpperCase()}},{key:"fullName",get:function(){return this.firstName+" "+this.lastName}}]),t}(),E=function(){function t(){}return t.getCurrentUser=function(){return this.user$_.getValue()},t.setUser=function(t){this.user$_.next(t)},t.me$=function(){var t=this;return x.get$("/user/me").pipe(n.map((function(e){return t.mapUser(e.data,e.static)})),n.catchError((function(t){return i.of(null)})),n.switchMap((function(e){return t.setUser(e),t.user$_})))},t.register$=function(t){var e=this;return x.staticPost$("/user/register",t).pipe(n.map((function(t){return e.mapStatic__(t.data,t.static,"register")})))},t.login$=function(t){var e=this;return x.staticPost$("/user/login",t).pipe(n.map((function(t){return e.mapStatic__(t.data,t.static,"login")})))},t.logout$=function(){var t=this;return x.staticPost$("/user/logout").pipe(n.map((function(e){return t.mapStatic__(e.data,e.static,"logout")})))},t.retrieve$=function(t){var e=this;return x.staticPost$("/user/forget",t).pipe(n.map((function(t){return e.mapStatic__(t.data,t.static,"retrieve")})))},t.mapStatic__=function(t,e,n){if(void 0===n&&(n="me"),!e)return t;switch(n){case"me":I.exist("user")||(t=null);break;case"register":case"login":I.set("user",t);break;case"logout":I.delete("user")}return t},t.fake=function(t){return t.firstName=t.firstName||"Jhon",t.lastName=t.lastName||"Appleseed",t},t.mapUser=function(e,n){return n?t.fake(new S(e)):new S(e)},t.mapUsers=function(e,n){return e?e.map((function(e){return t.mapUser(e,n)})):[]},t}();E.user$_=new i.BehaviorSubject(null);var _=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var o=i.prototype;return o.onInit=function(){var t=this,i=new e.FormGroup({email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),checkRequest:window.antiforgery,checkField:""}),o=i.controls;this.controls=o,i.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges()})),this.form=i,this.error=null,this.success=!1},o.test=function(){this.form.patch({email:"jhonappleseed@gmail.com",checkRequest:window.antiforgery,checkField:""})},o.reset=function(){this.form.reset()},o.onSubmit=function(){var t=this;this.form.valid?(this.form.submitted=!0,E.retrieve$(this.form.value).subscribe((function(e){console.log("AuthForgotComponent.onSubmit",e),t.sent.next(!0),t.success=!0,t.pushChanges()}),(function(e){console.log("AuthForgotComponent.error",e),t.error=e,t.pushChanges()}))):this.form.touched=!0},o.onLogin=function(){this.login.next()},o.onRegister=function(){this.register.next()},i}(t.Component);_.meta={selector:"[auth-forgot]",outputs:["sent","login","register"]};var T=function(t){this.data=t},A=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(T),O=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(T),L=function(){function t(){}return t.open$=function(t){var e=this;return this.getTemplate$(t.src).pipe(n.map((function(n){return{node:e.getNode(n),data:t.data,modal:t}})),n.tap((function(t){return e.modal$.next(t)})),n.switchMap((function(t){return e.events$})))},t.load$=function(t){},t.getTemplate$=function(t){return i.from(fetch(t).then((function(t){return t.text()})))},t.getNode=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild},t.reject=function(t){this.modal$.next(null),this.events$.next(new O(t))},t.resolve=function(t){this.modal$.next(null),this.events$.next(new A(t))},t}();L.modal$=new i.Subject,L.events$=new i.Subject;var R=function(e){function i(){return e.apply(this,arguments)||this}a(i,e);var o=i.prototype;return o.onInit=function(){var e=this,i=t.getContext(this).node;this.modalNode=i.querySelector(".modal-outlet__modal"),L.modal$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.modal=t}))},o.onRegister=function(t){this.pushChanges()},o.onLogin=function(t){this.pushChanges()},o.reject=function(t){L.reject()},r(i,[{key:"modal",get:function(){return this.modal_},set:function(e){var n=t.getContext(this).module;if(this.modal_&&this.modal_.node&&(n.remove(this.modal_.node,this),this.modalNode.removeChild(this.modal_.node)),e&&e.node){this.modal_=e,this.modalNode.appendChild(e.node);n.compile(e.node)}this.modal_=e,this.pushChanges()}}]),i}(t.Component);R.meta={selector:"[modal-outlet]",template:'\n\t<div class="modal-outlet__container" [class]="{ active: modal }">\n\t\t<div class="modal-outlet__background" (click)="reject($event)"></div>\n\t\t<div class="modal-outlet__modal"></div>\n\t</div>\n\t'};var U=function(e){function n(){return e.apply(this,arguments)||this}a(n,e);var i=n.prototype;return i.onInit=function(){var e=t.getContext(this).node;this.views={SIGN_IN:1,SIGN_UP:2,FORGOTTEN:3},this.view=e.hasAttribute("view")?parseInt(e.getAttribute("view")):this.views.SIGN_IN},i.onForgot=function(t){this.view=this.views.FORGOTTEN,this.pushChanges()},i.onLogin=function(t){this.view=this.views.SIGN_IN,this.pushChanges()},i.onRegister=function(t){this.view=this.views.SIGN_UP,this.pushChanges()},i.onSignIn=function(t){console.log("AuthComponent.onSignIn",t),E.setUser(t),window.location.href=this.auth},i.onSignUp=function(t){console.log("AuthComponent.onSignUp",t),E.setUser(t),window.location.href=this.auth},i.onForgottenSent=function(t){},n}(t.Component);U.meta={selector:"[auth]",inputs:["auth"]};var j=function(e){function n(){return e.apply(this,arguments)||this}a(n,e);var i=n.prototype;return i.onInit=function(){e.prototype.onInit.call(this);var n=t.getContext(this).parentInstance;if(n instanceof R){var i=n.modal.data;this.view=i.view}},i.onSignIn=function(t){L.resolve(t)},i.onSignUp=function(t){L.resolve(t)},i.close=function(){L.reject()},n}(U);j.meta={selector:"[auth-modal]"};var q=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var o=i.prototype;return o.onInit=function(){var t=this,i=new e.FormGroup({email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),password:new e.FormControl(null,e.Validators.RequiredValidator()),checkRequest:window.antiforgery,checkField:""}),o=i.controls;this.controls=o,i.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges()})),this.form=i,this.error=null,this.success=!1},o.test=function(){this.form.patch({email:"jhonappleseed@gmail.com",password:"password",checkRequest:window.antiforgery,checkField:""})},o.reset=function(){this.form.reset()},o.onSubmit=function(){var t=this;this.form.valid?(this.form.submitted=!0,E.login$(this.form.value).subscribe((function(e){console.log("AuthSigninComponent.onSubmit",e),t.success=!0,t.pushChanges(),t.signIn.next("string"==typeof e?{status:e}:e)}),(function(e){console.log("AuthSigninComponent.error",e),t.error=e,t.pushChanges()}))):this.form.touched=!0},o.onForgot=function(){this.forgot.next()},o.onRegister=function(){this.register.next()},i}(t.Component);q.meta={selector:"[auth-signin]",outputs:["signIn","forgot","register"]};var N=function(t){function i(){return t.apply(this,arguments)||this}a(i,t);var o=i.prototype;return o.onInit=function(){var t=this,i=window.data||{roles:[],countries:[]},o=new e.FormGroup({firstName:new e.FormControl(null,e.Validators.RequiredValidator()),lastName:new e.FormControl(null,e.Validators.RequiredValidator()),email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),company:new e.FormControl(null),role:new e.FormControl(null,e.Validators.RequiredValidator()),country:new e.FormControl(null,e.Validators.RequiredValidator()),newsletter:new e.FormControl(null),privacy:new e.FormControl(null,e.Validators.RequiredValidator()),checkRequest:window.antiforgery,checkField:"",action:window.formaction}),r=o.controls;r.role.options=i.roles,r.country.options=i.countries,this.controls=r,o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges()})),this.data=i,this.form=o,this.error=null,this.success=!1},o.test=function(){var t=this.controls.role.options.length?this.controls.role.options[0].id:null;this.form.patch({firstName:"Jhon",lastName:"Appleseed",email:"jhonappleseed@gmail.com",company:"Websolute",country:"Italy",role:t,privacy:!0,checkRequest:window.antiforgery,checkField:""})},o.reset=function(){this.form.reset()},o.onSubmit=function(){var t=this;this.form.valid?(this.form.submitted=!0,E.register$(this.form.value).subscribe((function(e){console.log("AuthSignupComponent.onSubmit",e),t.success=!0,dataLayer.push({event:"formSubmission","form type":"Registrazione"}),t.form.reset()}),(function(e){console.log("AuthSignupComponent.error",e),t.error=e,t.form.submitted=!1,t.pushChanges()}))):this.form.touched=!0},o.onLogin=function(){this.login.next()},i}(t.Component);N.meta={selector:"[auth-signup]"};var P=function(e){function o(){return e.apply(this,arguments)||this}return a(o,e),o.prototype.onInit=function(){var e=this;this.initialFocus=!1;var o=t.getContext(this),r=o.module,s=o.node,a=o.parentInstance,c=(o.selector,this.event$=i.fromEvent(document,"click").pipe(n.filter((function(t){var n=t.target;if(s.contains(n)||!document.contains(n))e.initialFocus=!0;else if(e.initialFocus)return e.initialFocus=!1,!0})),n.shareReplay(1))),u=s.getAttribute("(clickOutside)");if(u){var l=r.makeFunction(u,["$event"]);c.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){r.resolve(l,a,t)}))}else a.clickOutside$=c},o}(t.Directive);P.meta={selector:"[(clickOutside)]"};var F=function(){function t(){}return t.get=function(t){return new URLSearchParams(window.location.search).get(t)},t.set=function(t,e){var n=new URLSearchParams(window.location.search);"string"==typeof t?n.set(t,e):n.set(t,""),this.replace(n)},t.replace=function(t){if(window.history&&window.history.pushState){var e=document.title,n=window.location.href.split("?")[0]+"?"+t.toString();window.history.pushState(t.toString(),e,n)}},t.deserialize=function(t){var e=this.get("params");return this.decode(t,e)},t.serialize=function(t,e){var n=this.deserialize(),i=this.encode(t,e,n);this.set("params",i)},t.decode=function(t,e){var n=null;if(e){var i=window.atob(e);n=JSON.parse(i)}return t&&n&&(n=n[t]),n||null},t.encode=function(t,e,n){n=n||{};"string"==typeof t?n[t]=e:n=t;var i=JSON.stringify(n);return window.btoa(i)},t}(),V=function(i){function o(){return i.apply(this,arguments)||this}a(o,i);var s=o.prototype;return s.onInit=function(){var t=this,i=Object.assign({firstName:null,lastName:null,email:null},F.deserialize("contacts")||{}),o=new e.FormGroup({firstName:new e.FormControl(i.firstName,e.Validators.RequiredValidator()),lastName:new e.FormControl(i.lastName,e.Validators.RequiredValidator()),email:new e.FormControl(i.email,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),checkRequest:window.antiforgery,checkField:""});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges()})),this.form=o,this.error=null,this.success=!1},s.test=function(){this.form.patch({firstName:"Jhon",lastName:"Appleseed",email:"jhonappleseed@gmail.com",checkRequest:window.antiforgery,checkField:""})},s.reset=function(){this.form.reset()},s.onSubmit=function(){if(this.form.valid){this.form.submitted=!0,F.serialize("contacts",this.form.value);var t=""+this.action+window.location.search;window.location.href=t}else this.form.touched=!0},r(o,[{key:"action",get:function(){return t.getContext(this).node.querySelector("form").getAttribute("action")}}]),o}(t.Component);V.meta={selector:"[contacts-simple]",inputs:["flag"]};var D=function(i){function o(){return i.apply(this,arguments)||this}a(o,i);var s=o.prototype;return s.onInit=function(){var t=this,i=window.data||{reason:[],firstCategory:[],secondCategory:[]},o=Object.assign({firstName:null,lastName:null,email:null},F.deserialize("contacts")||{}),r=new e.FormGroup({firstName:new e.FormControl(o.firstName,e.Validators.RequiredValidator()),lastName:new e.FormControl(o.lastName,e.Validators.RequiredValidator()),email:new e.FormControl(o.email,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),company:new e.FormControl(null,e.Validators.RequiredValidator()),reason:new e.FormControl(null,e.Validators.RequiredValidator()),firstCategory:new e.FormControl(null),secondCategory:new e.FormControl(null),message:new e.FormControl(null),privacy:new e.FormControl(null,e.Validators.RequiredValidator()),checkRequest:window.antiforgery,checkField:""}),s=this.controls=r.controls;s.reason.options=i.reason,s.firstCategory.options=i.firstCategory,s.secondCategory.options=i.secondCategory,r.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges()})),this.form=r,this.error=null,this.success=!1},s.test=function(){var t=this.controls.reason.options.length?this.controls.reason.options[0].id:null,e=this.controls.firstCategory.options.length?this.controls.firstCategory.options[0].id:null,n=this.controls.secondCategory.options.length?this.controls.secondCategory.options[0].id:null;this.form.patch({firstName:"Jhon",lastName:"Appleseed",email:"jhonappleseed@gmail.com",company:"Websolute",reason:t,firstCategory:e,secondCategory:n,message:"Hi!",privacy:!0,checkRequest:window.antiforgery,checkField:""})},s.reset=function(){this.form.reset()},s.onSubmit=function(){var t=this;this.form.valid?(this.form.submitted=!0,k.post$(this.action,{data:this.form.value}).subscribe((function(e){t.success=!0,t.form.reset()}),(function(e){console.log("ContactsComponent.error",e),t.error=e,t.pushChanges()}))):this.form.touched=!0},r(o,[{key:"action",get:function(){return t.getContext(this).node.querySelector("form").getAttribute("action")}}]),o}(t.Component);D.meta={selector:"[contacts]",inputs:["flag"]};var M=1e6,z=function(e){function i(){return e.apply(this,arguments)||this}a(i,e);var o=i.prototype;return o.onInit=function(){var e=this,o=t.getContext(this).node,r=o.getAttribute("dropdown-trigger");this.trigger=r?o.querySelector(r):o,this.opened=null,this.onClick=this.onClick.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this),this.openDropdown=this.openDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.addListeners(),i.dropdown$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.id===t?o.classList.add("dropped"):o.classList.remove("dropped")}))},o.onClick=function(e){var n=t.getContext(this).node;null===this.opened?this.openDropdown():n.querySelector("[dropdown-item]")||this.closeDropdown()},o.onDocumentClick=function(e){var n=t.getContext(this).node;n===e.target||n.contains(e.target)||this.closeDropdown()},o.openDropdown=function(){null===this.opened&&(this.opened=!0,this.addDocumentListeners(),i.dropdown$.next(this.id),this.dropped.next(this.id))},o.closeDropdown=function(){null!==this.opened&&(this.removeDocumentListeners(),this.opened=null,i.dropdown$.getValue()===this.id&&(i.dropdown$.next(null),this.dropped.next(null)))},o.addListeners=function(){this.trigger.addEventListener("click",this.onClick)},o.addDocumentListeners=function(){document.addEventListener("click",this.onDocumentClick)},o.removeListeners=function(){this.trigger.removeEventListener("click",this.onClick)},o.removeDocumentListeners=function(){document.removeEventListener("click",this.onDocumentClick)},o.onDestroy=function(){this.removeListeners(),this.removeDocumentListeners()},i.nextId=function(){return M++},r(i,[{key:"id",get:function(){return this.dropdown||this.id_||(this.id_=i.nextId())}}]),i}(t.Directive);z.meta={selector:"[dropdown]",inputs:["dropdown","dropdown-trigger"],outputs:["dropped"]},z.dropdown$=new i.BehaviorSubject(null);var H=function(e){function i(){return e.apply(this,arguments)||this}return a(i,e),i.prototype.onInit=function(){var e=this,i=t.getContext(this).node;i.classList.add("dropdown-item"),z.dropdown$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.id===t?i.classList.add("dropped"):i.classList.remove("dropped")}))},r(i,[{key:"id",get:function(){return this["dropdown-item"]}}]),i}(t.Directive);H.meta={selector:"[dropdown-item], [[dropdown-item]]",inputs:["dropdown-item"]};var G=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.onInit=function(){this.dropdownId=z.nextId()},e}(t.Component);G.meta={selector:"[filter-dropdown]",inputs:["label","filter"],template:'\n\t\t<span class="text" [innerHTML]="label"></span>\n\t\t<span class="btn--dropdown" [dropdown]="dropdownId">\n\t\t\t<span [innerHTML]="filter.label"></span> <svg class="filter"><use xlink:href="#filter"></use></svg>\n\t\t\t\x3c!-- dropdown --\x3e\n\t\t\t<div class="dropdown" [dropdown-item]="dropdownId">\n\t\t\t\t<div class="category" [innerHTML]="filter.label"></div>\n\t\t\t\t<ul class="nav--dropdown">\n\t\t\t\t\t<li *for="let item of filter.options">\n\t\t\t\t\t\t<span [class]="{ active: filter.has(item), disabled: item.disabled }" (click)="filter.set(item)" [innerHTML]="item.label"></span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</span>\n\t'};var W=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.onChanges=function(){var e=t.getContext(this).node,n=this.control.flags;Object.keys(n).forEach((function(t){n[t]?e.classList.add(t):e.classList.remove(t)}))},n}(t.Component);W.meta={selector:"[control]",inputs:["control"]};var B=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.onInit=function(){this.label=this.label||"label"},e}(W);B.meta={selector:"[control-checkbox]",inputs:["control","label","name"],template:'\n\t\t<div class="group--form--checkbox" [class]="{ required: control.validators.length }">\n\t\t\t<label>\n\t\t\t\t<input type="checkbox" class="control--checkbox" [formControl]="control" [value]="true" [formControlName]="name" />\n\t\t\t\t<span [innerHTML]="label | html"></span>\n\t\t\t</label>\n\t\t</div>\n\t\t<errors-component *if="control.validators.length" [control]="control"></errors-component>\n\t'};var Y=function(){function t(){}return t.keydown$=function(){return i.fromEvent(window,"keydown").pipe(n.shareReplay(1))},t.keyup$=function(){return i.fromEvent(window,"keyup").pipe(n.shareReplay(1))},t.typing$=function(){var t,e="";return this.key$().pipe(n.map((function(n){return t&&clearTimeout(t),e+=n,t=setTimeout((function(){e=""}),1500),e})),n.shareReplay(1))},t.key$=function(){var t=/\w/;return this.keydown$().pipe(n.filter((function(e){return e.key&&e.key.match(t)})),n.map((function(t){return t.key})),n.shareReplay(1))},t}(),J=function(e){function i(){return e.apply(this,arguments)||this}a(i,e);var o=i.prototype;return o.onInit=function(){var t=this;this.label="label",this.labels=window.labels||{},this.dropped=!1,this.dropdownId=z.nextId(),Y.typing$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.scrollToWord(e)}))},o.scrollToWord=function(e){for(var n=this.control.options||[],i=-1,o=0;o<n.length;o++){if(0===n[o].name.toLowerCase().indexOf(e.toLowerCase())){i=o;break}}if(-1!==i){var r=t.getContext(this).node,s=r.querySelector(".dropdown"),a=r.querySelector(".nav--dropdown").children[i];s.scrollTo(0,a.offsetTop)}},o.setOption=function(t){if(console.log("setOption",t,this.isMultiple),this.isMultiple){var e=this.control.value||[],n=e.indexOf(t.id);-1!==n?e.splice(n,1):e.push(t.id),this.control.value=e.length?e.slice():null}else this.control.value=t.id},o.hasOption=function(t){return this.isMultiple?-1!==(this.control.value||[]).indexOf(t.id):this.control.value===t.id},o.onDropped=function(t){},o.getLabel=function(){var t=this.control.value,e=this.control.options||[];if(this.isMultiple)return(t=t||[]).length?t.map((function(t){var n=e.find((function(e){return e.id===t||e.name===t}));return n?n.name:""})).join(", "):this.labels.select;var n=e.find((function(e){return e.id===t||e.name===t}));return n?n.name:this.labels.select},o.onDropped=function(t){this.dropped=t===this.dropdownId},r(i,[{key:"isMultiple",get:function(){return this.multiple&&!1!==this.multiple&&"false"!==this.multiple}}]),i}(W);J.meta={selector:"[control-custom-select]",inputs:["control","label","multiple","name"],template:'\n\t\t<div class="group--form--select" [class]="{ required: control.validators.length, multiple: isMultiple }" [dropdown]="dropdownId" (dropped)="onDropped($event)">\n\t\t\t<label [innerHTML]="label"></label>\n\t\t\t<span class="control--select" [innerHTML]="getLabel()"></span>\n            <input type="text" style="display:none" class="control--select" [formControl]="control" [formControlName]="name" />\n\t\t\t<svg class="icon caret-down"><use xlink:href="#caret-down"></use></svg>\n\t\t\t<span class="required__badge">required</span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t\t<div class="dropdown" [dropdown-item]="dropdownId">\n\t\t\t<div class="category" [innerHTML]="label"></div>\n\t\t\t<ul class="nav--dropdown" [class]="{ multiple: isMultiple }">\n\t\t\t<li *for="let item of control.options" (click)="setOption(item)"><span [class]="{ active: hasOption(item) }" [innerHTML]="item.name"></span></li>\n\t\t\t</ul>\n\t\t</div>\n\t'};var X=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.onInit=function(){this.label="label",this.required=!1},e}(W);X.meta={selector:"[control-password]",inputs:["control","label","name"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length }">\n\t\t\t<label [innerHTML]="label"></label>\n\t\t\t<input type="password" class="control--text" [formControl]="control" [placeholder]="label" [formControlName]="name" />\n\t\t\t<span class="required__badge">required</span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var Q=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.onInit=function(){this.label="label",this.required=!1},e}(W);Q.meta={selector:"[control-text]",inputs:["control","label","name"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length }">\n\t\t\t<label [innerHTML]="label"></label>\n\t\t\t<input type="text" class="control--text" [formControl]="control" [placeholder]="label" [formControlName]="name" />\n\t\t\t<span class="required__badge">required</span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var K=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.prototype.onInit=function(){this.label="label",this.required=!1},e}(W);K.meta={selector:"[control-textarea]",inputs:["control","label","name"],template:'\n\t\t<div class="group--form--textarea" [class]="{ required: control.validators.length }">\n\t\t\t<label [innerHTML]="label"></label>\n\t\t\t<textarea class="control--text" [formControl]="control" [innerHTML]="label" rows="6" [formControlName]="name"></textarea>\n\t\t\t<span class="required__badge">required</span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var Z=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.onInit=function(){this.labels=window.labels||{}},n.getLabel=function(t,e){return this.labels["error_"+t]},e}(W);Z.meta={selector:"errors-component",inputs:["control"],template:'\n\t<div class="inner" [style]="{ display: control.invalid && control.touched ? \'block\' : \'none\' }">\n\t\t<div class="error" *for="let [key, value] of control.errors">\n\t\t\t<span [innerHTML]="getLabel(key, value)"></span>\n\t\t\t\x3c!-- <span class="key" [innerHTML]="key"></span> <span class="value" [innerHTML]="value | json"></span> --\x3e\n\t\t</div>\n\t</div>\n\t'};var tt=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.onInit=function(){this.env=y},n.onTest=function(t){this.test.next(t)},n.onReset=function(t){this.reset.next(t)},e}(t.Component);tt.meta={selector:"test-component",inputs:["form"],outputs:["test","reset"],template:'\n\t<div class="group--form--results" *if="env.DEVELOPMENT">\n\t\t<code [innerHTML]="form.value | json"></code>\n\t\t<button type="button" class="btn--link" (click)="onTest($event)"><span>test</span></button>\n\t\t<button type="button" class="btn--link" (click)="onReset($event)"><span>reset</span></button>\n\t</div>\n\t'};var et=function(e){function n(){return e.apply(this,arguments)||this}a(n,e);var i=n.prototype;return i.onInit=function(){e.prototype.onInit.call(this),this.mode="slider";var n=t.getContext(this),i=n.parentInstance;n.node;if(i instanceof R){var o=this.data=i.modal.data;this.sliderItems=o.items,this.sliderIndex=o.index}},i.close=function(){L.reject()},i.toggleMode=function(){this.mode="slider"===this.mode?"grid":"slider",this.pushChanges()},i.onChange=function(t){},i.onTween=function(t){},i.onSelect=function(t){this.sliderIndex=t,this.mode="slider",this.pushChanges()},n}(t.Component);et.meta={selector:"[gallery-modal]"};var nt=v?g+"gallery-modal.html":"template/gallery-modal.cshtml",it=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var s=o.prototype;return s.onInit=function(){var t=this;this.galleryItems.forEach((function(t){-1===o.items.indexOf(t)&&o.items.push(t)})),this.click$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){return t.onOpenGallery(e)}))},s.click$=function(){var e=t.getContext(this).node;return i.fromEvent(e,"click")},s.onOpenGallery=function(t){var e=o.items,i=e.indexOf(this.firstGalleryItem);L.open$({src:nt,data:{items:e,index:i}}).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){}))},r(o,[{key:"galleryItems",get:function(){return"string"==typeof this.gallery?[this.gallery]:Array.isArray(this.gallery)?this.gallery:[]}},{key:"firstGalleryItem",get:function(){var t=this.galleryItems;if(t.length)return t[0]}}]),o}(t.Component);it.items=[],it.meta={selector:"[gallery]",inputs:["gallery"]};var ot=function(){function t(){}return t.height$=function(){var t=document.documentElement.style;return i.fromEvent(window,"resize").pipe(n.map((function(t){return window.innerHeight})),n.startWith(window.innerHeight),n.tap((function(e){var n=.01*e;t.setProperty("--vh",n+"px")})))},t}(),rt=function(i){function o(){return i.apply(this,arguments)||this}a(o,i);var r=o.prototype;return r.onInit=function(){this.searchActive=!1,this.mainActive=!1;var t=this.form=new e.FormGroup({search:new e.FormControl(null,e.Validators.RequiredValidator())});this.controls=t.controls;ot.height$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){console.log("HeaderComponent.height$",t)}))},r.onSearch=function(){var e=t.getContext(this).node.querySelector("form").getAttribute("action");this.form.valid?(this.form.submitted=!0,window.location.href=e+"?search="+this.form.value.search):this.form.touched=!0},r.onMainToggle=function(){this.searchActive=!1,this.mainActive=!this.mainActive;var e=t.getContext(this).node,n=Array.prototype.slice.call(e.querySelectorAll(".nav--primary-menu > li"));gsap.to(n,{opacity:this.mainActive?1:0,duration:.35,stagger:{each:.05,ease:Power3.easeOut}}),this.pushChanges()},r.onSearchToggle=function(){this.mainActive=!1,this.searchActive=!this.searchActive;t.getContext(this).node;this.pushChanges()},r.onOpenSub=function(t){this.subId=t,this.pushChanges()},r.onCloseSub=function(t){this.subId===t&&(this.subId=null,this.pushChanges())},r.isSubOpen=function(t){return this.subId===t},r.isPrimaryHidden=function(){return null!=this.subId},r.onShowSub=function(t){this.showPictureOrDefault(),window.innerWidth>768&&(this.subId=t||null,this.pushChanges())},r.showPicture=function(e){var n,i=t.getContext(this).node.querySelector(".main-menu__picture");e?((n=document.createElement("img")).onload=function(){i.appendChild(n),gsap.set(n,{opacity:0}),gsap.to(n,{opacity:1,duration:.35,overwrite:"all",onComplete:function(){for(;i.childElementCount>1;)i.removeChild(i.children[0])}})},n.src=e):(n=i.querySelector("img"))&&gsap.to(n,{opacity:0,duration:.35,overwrite:"all",onComplete:function(){for(;i.childElementCount>0;)i.removeChild(i.children[0])}})},r.showPictureOrDefault=function(e){var n=t.getContext(this).node.querySelector(".main-menu__picture"),i=n.querySelector("img"),o=this.defaultSrc=this.defaultSrc||i.getAttribute("src");e=e||o,i&&i.getAttribute("src")===e||((i=document.createElement("img")).onload=function(){n.appendChild(i),gsap.set(i,{opacity:0}),gsap.to(i,{opacity:1,duration:.35,overwrite:"all",onComplete:function(){for(;n.childElementCount>1;)n.removeChild(n.children[0])}})},i.src=e)},o}(t.Component);rt.meta={selector:"header"};var st=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.transform=function(t){if(t){t=t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e))}));var e=['"',"&","'","<",">"," ","¡","¢","£","¤","¥","¦","§","¨","©","ª","«","¬","­","®","¯","°","±","²","³","´","µ","¶","·","¸","¹","º","»","¼","½","¾","¿","À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò","Ó","Ô","Õ","Ö","×","Ø","Ù","Ú","Û","Ü","Ý","Þ","ß","à","á","ã","ä","å","æ","ç","è","é","ê","ë","ì","í","î","ï","ð","ñ","ò","ó","ô","õ","ö","÷","ø","ù","ú","û","ü","ý","þ","ÿ","&","•","°","∞","‰","⋅","±","†","—","¬","µ","⊥","∥","€","£","¥","¢","©","®","™","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω","Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω"],n=new RegExp("(&"+["quot","amp","apos","lt","gt","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","amp","bull","deg","infin","permil","sdot","plusmn","dagger","mdash","not","micro","perp","par","euro","pound","yen","cent","copy","reg","trade","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"].join(";)|(&")+";)","g");return t=t.replace(n,(function(){for(var t=1;t<arguments.length;t++)if(arguments[t])return e[t-1]}))}},e}(t.Pipe);st.meta={name:"html"};var at="select",ct="or",ut=function(){function t(t){this.change$=new i.BehaviorSubject,this.mode=at,this.placeholder="Select",this.values=[],this.options=[],t&&(t.mode===at&&t.options.unshift({label:t.placeholder,values:[]}),Object.assign(this,t))}r(t,[{key:"empty",get:function(){return 0===this.values.length}}]);var e=t.prototype;return e.filter=function(t,e){return!0},e.match=function(t){var e,n=this;return this.mode===ct?(e=!this.values.length,this.values.forEach((function(i){e=e||n.filter(t,i)}))):(e=!0,this.values.forEach((function(i){e=e&&n.filter(t,i)}))),e},e.getSelectedOption=function(){var t=this;return this.options.find((function(e){return t.has(e)}))},e.getLabel=function(){if(this.mode===at){var t=this.getSelectedOption();return t?t.label:this.placeholder}return this.label},e.hasAny=function(){return this.values.length>0},e.has=function(t){return-1!==this.values.indexOf(t.value)},e.set=function(t){this.mode===at&&(this.values=[]),-1===this.values.indexOf(t.value)&&void 0!==t.value&&this.values.push(t.value),this.mode===at&&(this.placeholder=t.label),this.change$.next()},e.remove=function(t){var e=this.values.indexOf(t.value);if(-1!==e&&this.values.splice(e,1),this.mode===at){var n=this.options[0];this.placeholder=n.label}this.change$.next()},e.toggle=function(t){this.has(t)?this.remove(t):this.set(t)},e.toggleActive=function(){this.active=!this.active},e.clear=function(){if(this.values=[],this.mode===at){var t=this.options[0];this.placeholder=t.label}this.change$.next()},t}(),lt=function(){function t(t,e,n){var i={};this.filters=i,t&&(Object.keys(t).forEach((function(e){var o=new ut(t[e]);"function"==typeof n&&n(e,o),i[e]=o})),this.deserialize(this.filters,e))}var e=t.prototype;return e.getParamsCount=function(t){return t?Object.keys(t).reduce((function(e,n,i){var o=t[n];return e+(o?o.length:0)}),0):0},e.deserialize=function(t,e){var n;e&&this.getParamsCount(e)&&(n=e);var i=F.deserialize("filters");return i&&this.getParamsCount(i)&&(n=i),n&&Object.keys(t).forEach((function(e){t[e].values=n[e]||[]})),t},e.serialize=function(t){var e={},n=!1;return Object.keys(t).forEach((function(i){var o=t[i];o.values&&o.values.length>0&&(e[i]=o.values,n=!0)})),n||(e=null),F.serialize("filters",e),e},e.items$=function(t){var e=this,o=this.filters,r=Object.keys(o).map((function(t){return o[t].change$}));return this.updateFilterStates(o,t,!0),i.merge.apply(void 0,r).pipe(n.auditTime(1),n.tap((function(){return e.serialize(o)})),n.map((function(){return e.filterItems(t)})),n.tap((function(){return e.updateFilterStates(o,t)})))},e.filterItems=function(t,e){var n=this,i=Object.keys(this.filters).map((function(t){return n.filters[t]})).filter((function(t){return t.values&&t.values.length>0}));return t=t.filter((function(t){var n=!0;return i.forEach((function(i){i!==e&&(n=n&&i.match(t))})),n}))},e.updateFilterStates=function(t,e,n){var i=this;Object.keys(t).forEach((function(o){var r=t[o],s=n?e:i.filterItems(e,r);r.options.forEach((function(t){var e=0;if(t.value)for(var i=0;i<s.length;){var o=s[i];r.filter(o,t.value)&&e++,i++}else e=s.length;n?t.initialCount=e:t.count=e,t.disabled=0===e})),n&&r.options.sort((function(t,e){return e.initialCount-t.initialCount}))}))},t}(),ht=function(){function t(){}return t.all$=function(){return v?x.staticGet$("/magazine/all").pipe(n.map((function(t){return t.data}))):i.from([window.all])},t.filters$=function(){return v?x.staticGet$("/magazine/filters").pipe(n.map((function(t){return t.data}))):i.from([window.filters])},t}(),pt=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var t=this;this.maxVisibleItems=9,this.visibleItems=[],this.items=[],this.filters={},this.busy=!0,this.load$().pipe(n.first()).subscribe((function(e){t.busy=!1,t.items=e[0],t.filters=e[1],t.onLoad(),t.pushChanges()}))},r.onLoad=function(){var t=this,e=this.items,i=this.filters;Object.keys(i).forEach((function(t){i[t].mode=at}));var o=new lt(i,{},(function(t,e){switch(t){case"category":case"year":e.filter=function(e,n){return e[t]===n}}}));this.filterService=o,this.filters=o.filters,o.items$(e).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.maxVisibleItems=9,t.items=e,t.visibleItems=e.slice(0,t.maxVisibleItems),t.pushChanges()})),this.scroll$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},r.scroll$=function(){var e=this,o=t.getContext(this).node;return i.fromEvent(window,"scroll").pipe(n.tap((function(){!e.busy&&e.items&&e.visibleItems&&e.items.length>e.visibleItems.length&&(o.getBoundingClientRect().bottom<window.innerHeight&&(e.busy=!0,e.pushChanges(),setTimeout((function(){e.busy=!1,e.maxVisibleItems+=9,e.visibleItems=e.items.slice(0,e.maxVisibleItems),e.pushChanges()}),1e3)))})))},r.load$=function(){return i.combineLatest([ht.all$(),ht.filters$()])},r.toggleFilter=function(t){var e=this;Object.keys(this.filters).forEach((function(n){var i=e.filters[n];i.active=i===t&&!i.active})),this.pushChanges()},r.clearFilter=function(t,e){t.preventDefault(),t.stopImmediatePropagation(),e.clear(),this.pushChanges()},o}(t.Component);pt.meta={selector:"[magazine]"};var dt=function(e){function n(){return e.apply(this,arguments)||this}a(n,e);var i=n.prototype;return i.onInit=function(){var e=t.getContext(this).parentInstance;e instanceof R&&(this.data=e.modal.data)},i.close=function(){L.reject()},n}(t.Component);dt.meta={selector:"[modal]"};var ft=function(){function t(){}return t.all$=function(){return v?x.staticGet$("/portfolio/stand/all").pipe(n.map((function(t){return t.data}))):i.from([window.all])},t.filters$=function(){return v?x.staticGet$("/portfolio/stand/filters").pipe(n.map((function(t){return t.data}))):i.from([window.filters])},t}(),mt=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var t=this;this.maxVisibleItems=9,this.firstItem=null,this.visibleItems=null,this.items=[],this.filters={},this.busy=!0,this.load$().pipe(n.first()).subscribe((function(e){console.log(e),t.busy=!1,t.items=e[0],t.filters=e[1],t.onLoad(),t.pushChanges()}))},r.onLoad=function(){var t=this,e=this.items,i=this.filters;Object.keys(i).forEach((function(t){i[t].mode=at}));var o=new lt(i,{},(function(t,e){switch(t){case"area":case"city":e.filter=function(e,n){return e[t]===n}}}));this.filterService=o,this.filters=o.filters,o.items$(e).pipe(n.map((function(e){return t.sortPatternItems(e)})),n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.maxVisibleItems=9,t.items=e,t.visibleItems=e.slice(0,t.maxVisibleItems),t.pushChanges()})),this.scroll$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},r.sortPatternItems=function(t){var e=t.slice(),n=this.firstItem=e.find((function(t){return t.important}));n&&e.splice(e.indexOf(n),1);for(var i=[!1,!1,!0,!1,!1,!1,!1,!0],o=[],r=0,s=function(){var t=i[r%i.length],n=e.find((function(e){return e.important===t}));n?(e.splice(e.indexOf(n),1),o.push(n)):o.push(e.shift()),r++};e.length;)s();return o},r.scroll$=function(){var e=this,o=t.getContext(this).node;return i.fromEvent(window,"scroll").pipe(n.tap((function(){!e.busy&&e.items&&e.visibleItems&&e.items.length>e.visibleItems.length&&(o.getBoundingClientRect().bottom<window.innerHeight&&(e.busy=!0,e.pushChanges(),setTimeout((function(){e.busy=!1,e.maxVisibleItems+=9,e.visibleItems=e.items.slice(0,e.maxVisibleItems),e.pushChanges()}),1e3)))})))},r.load$=function(){return i.combineLatest([ft.all$(),ft.filters$()])},r.toggleFilter=function(t){var e=this;Object.keys(this.filters).forEach((function(n){var i=e.filters[n];i.active=i===t&&!i.active})),this.pushChanges()},r.clearFilter=function(t,e){t.preventDefault(),t.stopImmediatePropagation(),e.clear(),this.pushChanges()},o}(t.Component);mt.meta={selector:"[portfolio]"};var gt=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){this.initialFocus=!1;var e=t.getContext(this),i=e.module,o=e.node,r=this.expression=o.getAttribute("(scrollTo)");this.outputFunction=i.makeFunction(r,["$event"]),this.scrollTo$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(){}))},r.scrollTo$=function(){var e=this,o=t.getContext(this),r=o.module,s=o.node,a=o.parentInstance;return i.fromEvent(s,"click").pipe(n.tap((function(t){var n=r.resolve(e.outputFunction,a,t);if("string"==typeof n){var i=document.querySelector(n);if(i){var o=e.currentTop(),s=o+i.getBoundingClientRect().top-50,c={pow:0},u=document.querySelector("html");gsap.set(u,{"scroll-behavior":"auto"}),gsap.to(c,Math.abs(s-o)/2e3,{pow:1,ease:Quad.easeOut,overwrite:"all",onUpdate:function(){window.scrollTo(0,o+(s-o)*c.pow)},onComplete:function(){gsap.set(u,{"scroll-behavior":"smooth"})}})}}})),n.shareReplay(1))},r.currentTop=function(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},o}(t.Directive);gt.meta={selector:"[(scrollTo)]"};var vt=function(){function t(){}return t.all$=function(){return v?x.staticGet$("/search/all").pipe(n.map((function(t){return t.data}))):i.from([window.all])},t.filters$=function(){return v?x.staticGet$("/search/filters").pipe(n.map((function(t){return t.data}))):i.from([window.filters])},t}(),bt=function(o){function r(){return o.apply(this,arguments)||this}a(r,o);var s=r.prototype;return s.onInit=function(){var t=this.form=new e.FormGroup({search:new e.FormControl(F.get("search"),e.Validators.RequiredValidator())});this.controls=t.controls;this.maxVisibleItems=9,this.visibleItems=[],this.items=[],this.filters={},this.onSearch()},s.load$=function(){return i.combineLatest([vt.all$(),vt.filters$()])},s.onSearch=function(){var t=this;this.form.valid?(this.busy=!0,this.items=[],this.filters={},this.pushChanges(),this.load$(this.form.value.search).pipe(n.delay(v?1e3:1),n.first()).subscribe((function(e){t.busy=!1,t.items=e[0],t.filters=e[1],t.onSearchResults(),t.pushChanges(),F.set("search",t.form.value.search)}))):this.form.touched=!0},s.onSearchResults=function(){var t=this,e=this.items,i=this.filters;Object.keys(i).forEach((function(t){i[t].mode=at}));var o=new lt(i,{},(function(t,e){switch(t){case"category":e.filter=function(t,e){return t.category.id===e};break;case"year":e.filter=function(e,n){return e[t]===n}}}));this.filterService=o,this.filters=o.filters,o.items$(e).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.maxVisibleItems=9,t.items=e,t.visibleItems=e.slice(0,t.maxVisibleItems),t.pushChanges()})),this.scroll$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},s.scroll$=function(){var e=this,o=t.getContext(this).node;return i.fromEvent(window,"scroll").pipe(n.tap((function(){!e.busy&&e.items&&e.visibleItems&&e.items.length>e.visibleItems.length&&(o.getBoundingClientRect().bottom<window.innerHeight&&(e.busy=!0,e.pushChanges(),setTimeout((function(){e.busy=!1,e.maxVisibleItems+=9,e.visibleItems=e.items.slice(0,e.maxVisibleItems),e.pushChanges()}),1e3)))})))},s.toggleFilter=function(t){var e=this;Object.keys(this.filters).forEach((function(n){var i=e.filters[n];i.active=i===t&&!i.active})),this.pushChanges()},s.clearFilter=function(t,e){t.preventDefault(),t.stopImmediatePropagation(),e.clear(),this.pushChanges()},r}(t.Component);bt.meta={selector:"[search]"};var yt=function(){function t(){}return t.download=function(t,e){void 0===e&&(e="download.txt");var n=window.URL.createObjectURL(t),i=this.a;i.href=n,i.download=e,i.click(),window.URL.revokeObjectURL(n)},r(t,null,[{key:"a",get:function(){var t=this.a_;return t||((t=document.createElement("a")).style="display: none",document.body.appendChild(t),this.a_=t),t}}]),t}(),wt=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var e=this,o=t.getContext(this).node;i.fromEvent(o,"click").pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){t.preventDefault(),e.tryDownloadHref()}))},r.tryDownloadHref=function(){var e=this,i=t.getContext(this).node.getAttribute("href");k.get$(i,void 0,"blob").pipe(n.first(),n.map((function(t){return t.data}))).subscribe((function(t){yt.download(t,i.split("/").pop())}),(function(t){console.log("SecureDirective.tryDownloadHref",t),e.onLogin()}))},r.onLogin=function(){var t=this;console.log("SecureDirective.onLogin"),L.open$({src:"/stipa/auth-modal.html",data:{view:1}}).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){e instanceof A&&(E.setUser(e.data),t.tryDownloadHref())}))},o}(t.Directive);wt.meta={selector:"[secure]"};var Ct=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.onInit=function(){console.log("ShareComponent.onInit",this.share,this.title)},n.onChanges=function(){console.log("ShareComponent.onChanges",this.share,this.title)},n.getTitle=function(){var t=this.title?this.title:document.title;return this.encodeURI(t)},n.getUrl=function(){var t=this.share;return t?-1===t.indexOf(window.location.origin)&&(t=window.location.origin+(0===t.indexOf("/")?t:"/"+t)):t=window.location.href,this.encodeURI(t)},n.encodeURI=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))},r(e,[{key:"facebookUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.getUrl()}},{key:"pinterestUrl",get:function(){return"https://www.pinterest.com/pin/create/button/?url="+this.getUrl()+"&media=&description="+this.getTitle()}},{key:"linkedInUrl",get:function(){return"https://www.linkedin.com/shareArticle?mini=true&url="+this.getUrl()+"&title="+this.getTitle()}},{key:"twitterUrl",get:function(){return"https://twitter.com/intent/tweet?text="+this.getTitle()+"%20"+this.getUrl()}},{key:"whatsappUrl",get:function(){return"https://api.whatsapp.com/send?text="+this.getUrl()}},{key:"mailToUrl",get:function(){return"mailto:?subject="+this.getTitle()+"&body="+this.getUrl()}}]),e}(t.Component);Ct.meta={selector:"[share]",inputs:["share","title"],template:'\n\t<ul class="nav--share">\n\t\t<li>\n\t\t\t<a [href]="twitterUrl" target="_blank"><svg class="twitter"><use xlink:href="#twitter"></use></svg></a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a [href]="facebookUrl" target="_blank"><svg class="facebook"><use xlink:href="#facebook"></use></svg></a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a [href]="pinterestUrl" target="_blank"><svg class="pinterest"><use xlink:href="#pinterest"></use></svg></a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a [href]="mailToUrl"><svg class="email"><use xlink:href="#email"></use></svg></a>\n\t\t</li>\n\t\t\x3c!--\n\t\t<li>\n\t\t\t<a [href]="whatsappUrl" target="_blank"><svg class="whatsapp"><use xlink:href="#whatsapp"></use></svg></a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a [href]="linkedInUrl" target="_blank"><svg class="linkedin"><use xlink:href="#linkedin"></use></svg></a>\n\t\t</li>\n\t\t--\x3e\n\t</ul>\n\t'};var kt=function(){this.x=0,this.y=0},xt=function(t){t&&Object.assign(this,t)},$t=function(t){function e(e){var n;return(n=t.call(this,e)||this).distance=new kt,n.strength=new kt,n.speed=new kt,n}return a(e,t),e}(xt),It=function(t){function e(e){var n;return(n=t.call(this,e)||this).distance=new kt,n.strength=new kt,n.speed=new kt,n}return a(e,t),e}(xt),St=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e}(xt),Et=function(){function t(){}return t.getPosition=function(t,e){return t instanceof MouseEvent?e?(e.x=t.clientX,e.y=t.clientY):e={x:t.clientX,y:t.clientY}:t instanceof TouchEvent&&t.touches.length>0&&(e?(e.x=t.touches[0].pageX,e.y=t.touches[0].pageY):e={x:t.touches[0].pageX,y:t.touches[0].pageY}),e},t.down$=function(t,e){var o,r=this;return i.merge(i.fromEvent(t,"mousedown"),i.fromEvent(t,"touchstart")).pipe(n.map((function(n){if((o=o||new $t).node=t,o.target=n.target,o.originalEvent=n,o.down=r.getPosition(n,o.down),o.down)return o.distance=new kt,o.strength=new kt,o.speed=new kt,e.next(o),o})),n.filter((function(t){return void 0!==t})))},t.move$=function(t,e,o,r){var s,a=this;return i.fromEvent(document,r.originalEvent instanceof MouseEvent?"mousemove":"touchmove").pipe(n.startWith(r),n.map((function(n){if((s=s||new It).node=t,s.target=n.target,s.originalEvent=n,s.position=a.getPosition(n,s.position),void 0!==r.down&&void 0!==s.position)return s.distance.x=s.position.x-r.down.x,s.distance.y=s.position.y-r.down.y,s.strength.x=s.distance.x/window.innerWidth*2,s.strength.y=s.distance.y/window.innerHeight*2,s.speed.x=r.speed.x+.1*(s.strength.x-r.strength.x),s.speed.y=r.speed.y+.1*(s.strength.y-r.strength.y),r.distance.x=s.distance.x,r.distance.y=s.distance.y,r.speed.x=s.speed.x,r.speed.y=s.speed.y,r.strength.x=s.strength.x,r.strength.y=s.strength.y,e.next(s),s})))},t.up$=function(t,e,o,r){var s;return i.fromEvent(document,r.originalEvent instanceof MouseEvent?"mouseup":"touchend").pipe(n.map((function(t){return s=s||new St,e.next(s),o.next(),Math.abs(r.distance.x)>10&&(t.preventDefault(),t.stopImmediatePropagation()),s})))},t.events$=function(t){var e=this;t=t||document;var o=new i.ReplaySubject(1),r=new i.Subject;return this.down$(t,o).pipe(n.switchMap((function(s){return i.merge(e.move$(t,o,r,s),e.up$(t,o,r,s)).pipe(n.takeUntil(r))})),n.switchMap((function(){return o})))},t}(),_t=0,Tt=1,At=2,Ot=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var s=o.prototype;return s.getCurrent=function(){return this.state||(this.state={current:0}),this.state.current},s.setCurrent=function(t){void 0===t&&(t=0),this.state||(this.state={current:0}),this.state.current!==t&&(this.state.current=t,this.change.next(t))},s.onActivate=function(){this.checkAutoplay()},s.onDeactivate=function(){this.userGesture=!1,this.disableAutoplay()},s.onInit=function(){var e,o=this,r=t.getContext(this).node;this.container=r,this.wrapper=r.querySelector(".slider__wrapper"),e=r.hasAttribute("[items]")?this.items||[]:Array.prototype.slice.call(r.querySelectorAll(".slider__slide")),this.items=e,this.userGesture=!1,setTimeout((function(){o.slider$().pipe(n.takeUntil(o.unsubscribe$)).subscribe((function(t){}))}),1),this.changed$().pipe(n.takeUntil(this.unsubscribe$)).subscribe(),this.intersect$(r).pipe(n.takeUntil(this.unsubscribe$)).subscribe(),"number"==typeof this.focusAutoplay&&i.merge(this.resize$(),this.over$(r),this.leave$(r)).pipe(n.takeUntil(this.unsubscribe$)).subscribe(),setTimeout((function(){o.setActiveState()}),500)},s.changed$=function(){var t=this;return this.change.pipe(n.tap((function(){t.setActiveState(),t.checkAutoplay()})))},s.intersect$=function(t){var e=this;return p.intersection$(t).pipe(n.tap((function(t){return e.active=t.isIntersecting})))},s.resize$=function(){var t=this;return i.fromEvent(window,"resize").pipe(n.tap((function(){return t.mobile=window.innerWidth<768})))},s.over$=function(t){var e=this;return i.fromEvent(t,"mouseover").pipe(n.tap((function(){return e.over=!0})))},s.leave$=function(t){var e=this;return i.fromEvent(t,"mouseleave").pipe(n.tap((function(){return e.over=!1})))},s.setActiveState=function(){var e=this.current,n=t.getContext(this).node;Array.prototype.slice.call(n.querySelectorAll(".slider__slide")).forEach((function(t,n){n===e?t.classList.add("active"):t.classList.remove("active")}))},s.checkAutoplay=function(){var e=this;this.disableAutoplay();var n=_t,i=0;if("number"==typeof this.autoplay&&(i=this.autoplay,n=Tt),"number"==typeof this.focusAutoplay&&(i=this.focusAutoplay,n=At),n!==_t){var o=this.current,r=t.getContext(this).node,s=Array.prototype.slice.call(r.querySelectorAll(".slider__slide"))[o];if(s){var a=s.querySelector("video");if(a){a.addEventListener("ended",(function t(){a.removeEventListener("ended",t),(n===Tt&&e.active_||n===At&&(e.mobile_&&e.active_||!e.mobile_&&e.over_))&&(e.setCurrent((o+1)%e.items.length),e.pushChanges())})),a.play()}else(n===Tt&&this.active_&&!this.userGesture||n===At&&(this.mobile_&&this.active_||!this.mobile_&&this.over_))&&(this.to=setTimeout((function(){e.setCurrent((o+1)%e.items.length),e.pushChanges()}),i))}}},s.disableAutoplay=function(){this.to&&(clearTimeout(this.to),this.to=null);var e=t.getContext(this).node;Array.prototype.slice.call(e.querySelectorAll("video")).forEach((function(t){t.paused||t.pause()}))},s.checkFocusAutoplay=function(){this.mobile_?this.active_?this.checkAutoplay():this.disableAutoplay():this.over_?(this.setCurrent((this.current+1)%this.items.length),this.pushChanges()):this.disableAutoplay()},s.slider$=function(){var t,e,i,o=this;return Et.events$(this.wrapper).pipe(n.tap((function(n){n instanceof $t?(t=o.getTranslation(o.wrapper,o.container),e=n):n instanceof It?i=o.onDragMoveEvent(e,n,t):n instanceof St&&i&&(o.container.classList.remove("dragging"),o.wrapper.style.transform=null,o.onDragUpEvent(e,i))})))},s.onDragMoveEvent=function(t,e,n){this.container.classList.add("dragging");var i=n.x+e.distance.x;return this.wrapper.style.transform="translate3d("+i+"px, 0px, 0px)",e},s.onDragUpEvent=function(t,e){var n=this.container.offsetWidth;-1*e.distance.x>.25*n&&this.hasNext()?this.navTo(this.current+1):-1*e.distance.x<-.25*n&&this.hasPrev()?this.navTo(this.current-1):this.wrapper.style.transform="translate3d("+-100*this.current+"%, 0, 0)"},s.navTo=function(t){t=(t>0?t:this.items.length+t)%this.items.length,this.setCurrent(t),this.userGesture=!0,this.pushChanges()},s.hasPrev=function(){return this.current-1>=0},s.hasNext=function(){return this.current+1<this.items.length},s.getTranslation=function(t,e){var n=0,i=0,o=0,r=t.style.transform;if(r){var s=r.split("(")[1].split(")")[0].split(",");n=parseFloat(s[0]),i=parseFloat(s[1]),o=parseFloat(s[2]),n=-1!==s[0].indexOf("%")?n*=.01*e.offsetWidth:n,i=-1!==s[1].indexOf("%")?i*=.01*e.offsetHeight:i}return{x:n,y:i,z:o}},r(o,[{key:"current",get:function(){return this.getCurrent()},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){return{transform:"translate3d("+-100*this.current+"%, 0, 0)"}}},{key:"innerStyle",get:function(){return{width:100*this.items.length+"%"}}},{key:"active",get:function(){return this.active_},set:function(t){this.active_!==t&&(this.active_=t,t?this.onActivate():this.onDeactivate())}},{key:"mobile",get:function(){return this.mobile_},set:function(t){this.mobile_!==t&&(this.mobile_=t,this.checkFocusAutoplay())}},{key:"over",get:function(){return this.over_},set:function(t){this.over_!==t&&(this.over_=t,this.checkFocusAutoplay())}}]),o}(t.Component);Ot.meta={selector:"[slider]",inputs:["items","current","autoplay","focusAutoplay"],outputs:["change","tween"]};var Lt=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var s=o.prototype;return s.onInit=function(){var t=this;e.prototype.onInit.call(this),this.resize$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(){return t.pushChanges()}))},s.resize$=function(){return i.fromEvent(window,"resize")},s.onContentOver=function(){t.getContext(this).node.classList.add("content-over")},s.onContentOut=function(){t.getContext(this).node.classList.remove("content-over")},s.navTo=function(t){e.prototype.navTo.call(this,t)},r(o,[{key:"current",get:function(){return e.prototype.getCurrent.call(this)},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){return{transform:"translate3d("+-this.slideWidth*this.current+"px, 0, 0)"}}},{key:"innerStyle",get:function(){return{width:this.slideWidth*this.items.length+"px"}}},{key:"slideWidth",get:function(){var e=t.getContext(this).node;return(window.innerWidth<768?e.offsetWidth:e.offsetWidth/12*10)+40}}]),o}(Ot);Lt.meta={selector:"[slider-case-study]",inputs:["items","current","autoplay"],outputs:["change","tween"]};var Rt=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var n=e.prototype;return n.onInit=function(){t.prototype.onInit.call(this)},n.navTo=function(e){t.prototype.navTo.call(this,e)},n.doClose=function(){this.close.next()},n.toggleMode=function(){this.mode.next()},r(e,[{key:"current",get:function(){return t.prototype.getCurrent.call(this)},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){return{transform:"translate3d("+-100*this.current+"%, 0, 0)"}}},{key:"innerStyle",get:function(){return{width:100*this.items.length+"%"}}}]),e}(Ot);Rt.meta={selector:"[slider-gallery]",inputs:["items","current","autoplay"],outputs:["change","tween","close","mode"]};var Ut=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var s=o.prototype;return s.onInit=function(){e.prototype.onInit.call(this),this.pagination$().pipe(n.takeUntil(this.unsubscribe$)).subscribe(),this.click$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},s.raf$=function(){return i.interval(0,i.animationFrameScheduler)},s.mouse$=function(){var t={x:0,y:0};return i.fromEvent(window,"mousemove").pipe(n.map((function(e){return t.x=e.clientX,t.y=e.clientY,t})))},s.pagination$=function(){var e=this,o=t.getContext(this).node,r={x:0,y:0},s=o.querySelector(".slider__pagination");return i.combineLatest([this.mouse$(),this.raf$()]).pipe(n.tap((function(t){var n=t[0];r.x+=(n.x-r.x)/20,r.y+=(n.y-r.y)/20,e.direction=n.x>window.innerWidth/2?1:-1,s.style.transform="translateX("+r.x+"px) translateY("+r.y+"px)"})))},s.click$=function(){var e=this,o=t.getContext(this).node;return i.fromEvent(o,"click").pipe(n.map((function(t){t.clientX>window.innerWidth/2?e.navTo(e.current+1):e.navTo(e.current-1)})))},s.onContentOver=function(){t.getContext(this).node.classList.add("content-over")},s.onContentOut=function(){t.getContext(this).node.classList.remove("content-over")},r(o,[{key:"current",get:function(){return e.prototype.getCurrent.call(this)},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){return{transform:"translate3d("+-100*this.current+"%, 0, 0)"}}},{key:"innerStyle",get:function(){return{width:100*this.items.length+"%"}}},{key:"direction",set:function(e){if(this.direction_!==e){this.direction_=e;var n=t.getContext(this).node.querySelector(".slider__pagination");1==e?(n.classList.remove("prev"),n.classList.add("next")):(n.classList.remove("next"),n.classList.add("prev"))}}}]),o}(Ot);Ut.meta={selector:"[slider-hero]",inputs:["items","current","autoplay"],outputs:["change","tween"]};var jt=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e.transform=function(t){return(e=t)?0!==e.indexOf("/"+y.NAME)?e:v?(console.log(e),e):"/it/it"+(e=(e=e.replace("/"+y.NAME,"")).replace(".html","")):e;var e},e}(t.Pipe);jt.meta={name:"slug"};var qt=function(t){function e(e,n,i,o,r,s,a){var c;return(c=t.call(this,a)||this)[e]=n,c[i]=o,c.index=r,c.count=s,c}return a(e,t),r(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(t.Context),Nt=1,Pt=2,Ft=3,Vt=4,Dt=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var r=o.prototype;return r.onInit=function(){var e=t.getContext(this),o=e.module,r=e.node,s=r.firstElementChild,a=r.getAttribute("*virtual");r.removeAttribute("*virtual"),r.removeChild(s);var c=this.tokens=this.getExpressionTokens(a);this.virtualFunction=o.makeFunction(c.iterable),this.container=r,this.template=s,this.mode=this.mode||1,this.width=this.width||250,this.gutter=void 0!==this.gutter?this.gutter:20,this.options={top:0,width:this.width,gutter:this.gutter,containerWidth:0,containerHeight:0,cols:[0],strategy:1},this.cachedRects={},this.cachedInstances=[],this.cacheNodes=[],this.items$=new i.BehaviorSubject([]),this.update$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){}))},r.onChanges=function(e){var n=t.getContext(this),i=n.module.resolve(this.virtualFunction,n.parentInstance,this)||[];this.mode=this.mode||1,this.width=this.width||250,this.gutter=void 0!==this.gutter?this.gutter:20,this.options.width=this.width,this.updateView(!0),this.items$.next(i)},r.update$=function(){var t=this;return i.merge(this.scroll$(),this.resize$(),this.items$).pipe(n.map((function(e){var n=t.options,i=t.items$.getValue(),o=i.length;t.container.position="relative";for(var r=0,s=t.getWidth(),a=t.getGutter(s),c=i.filter((function(e,i){var c,u,l,h,p,d=t.cachedRects[i];if(d?(c=d.col,u=d.height,h=d.left):(c=t.getCol(),u=t.getHeight(s,e)),l=n.cols[c],t.intersect(l+n.top,l+u+n.top,0,n.containerHeight)){d||(h=t.getLeft(c,s,a));var f=t.cachedNode(i,i,e,o);return f.style.position="absolute",f.style.top=l+"px",f.style.left=h+"px",f.style.width=s+"px",u!==f.offsetHeight&&(u=f.offsetHeight),p=l+u+n.gutter,r=Math.max(r,p),n.cols[c]=p,d?(d.height=u,d.bottom=p):t.cachedRects[i]={col:c,width:s,height:u,left:h,top:l,bottom:p},!0}return t.removeNode(i),p=l+u+n.gutter,n.cols[c]=p,r=Math.max(r,p),!1})),u=i.length;u<t.cacheNodes.length;)t.removeNode(u),u++;return t.cacheNodes.length=i.length,t.container.style.height=r+"px",c})))},r.getCols=function(){var t=this.options,e=Math.floor((t.containerWidth+t.gutter)/(t.width+t.gutter))||1;return new Array(e).fill(0)},r.getCol=function(){var t,e=this.options;switch(this.mode){case Pt:case Ft:case Nt:t=e.cols.reduce((function(t,e,n,i){return e<i[t]?n:t}),0);break;case Vt:default:t=0}return t},r.getWidth=function(){var t,e=this.options;switch(this.mode){case Pt:case Ft:t=e.width;break;case Nt:t=(e.containerWidth-(e.cols.length-1)*e.gutter)/e.cols.length;break;case Vt:default:t=e.containerWidth}return t},r.getHeight=function(t,e){var n,i=this.options;switch(this.mode){case Pt:case Ft:case Nt:n=i.width;break;case Vt:default:n=80}return n},r.getGutter=function(t){var e,n=this.options;switch(this.mode){case Pt:case Ft:e=n.gutter;break;case Nt:e=(n.containerWidth-n.cols.length*t)/(n.cols.length-1);break;case Vt:default:e=0}return e},r.getLeft=function(t,e,n){var i,o=this.options;switch(this.mode){case Pt:case Nt:i=t*(e+n);break;case Ft:i=(o.containerWidth-o.cols.length*(e+n)+n)/2+t*(e+n);break;case Vt:default:i=0}return i},r.cachedNode=function(t,e,n,i){return this.cacheNodes[t]?this.updateNode(t,e,n):this.createNode(t,e,n,i)},r.createNode=function(e,n,i,o){var r=this.template.cloneNode(!0);delete r.rxcompId,this.container.appendChild(r),this.cacheNodes[e]=r;var s=t.getContext(this),a=s.module,c=this.tokens,u=[c.key,n,c.value,i,n,o,s.parentInstance],l=a.makeInstance(r,qt,s.selector,s.parentInstance,u),h=t.getContext(l);return a.compile(r,h.instance),this.cachedInstances[e]=l,r},r.updateNode=function(t,e,n){var i=this.cachedInstances[t],o=this.tokens;return i[o.key]!==e&&(i[o.key]=e,i[o.value]=n,i.pushChanges()),this.cacheNodes[t]},r.removeNode=function(e){this.cachedInstances[e]=void 0;var n=this.cacheNodes[e];if(n){var i=t.getContext(this).module;n.parentNode.removeChild(n),i.remove(n)}return this.cacheNodes[e]=void 0,n},r.intersect=function(t,e,n,i){return n<e&&i>t},r.resize$=function(){var t=this;return i.fromEvent(window,"resize").pipe(n.auditTime(100),n.startWith(null),n.tap((function(){return t.updateView(!0)})))},r.scroll$=function(t){var e=this;return i.fromEvent(window,"scroll").pipe(n.tap((function(){return e.updateView()})))},r.updateView=function(t){var e=this.container.getBoundingClientRect(),n=this.options;n.top=e.top,n.containerWidth=e.width,n.containerHeight=window.innerHeight,n.cols=this.getCols(),t&&(this.cachedRects={})},r.getExpressionTokens=function(t){if(null===t)throw new Error("invalid virtual");if(-1===t.trim().indexOf("let ")||-1===t.trim().indexOf(" of "))throw new Error("invalid virtual");var e=t.split(";").map((function(t){return t.trim()})).filter((function(t){return""!==t})),n=e[0].split(" of ").map((function(t){return t.trim()})),i=n[0].replace(/\s*let\s*/,""),o=n[1],r="index",s=i.match(/\[(.+)\s*,\s*(.+)\]/);if(s&&(r=s[1],i=s[2]),e.length>1){var a=e[1].split(/\s*let\s*|\s*=\s*index/).map((function(t){return t.trim()}));3===a.length&&(r=a[1])}return{key:r,value:i,iterable:o}},o}(t.Structure);Dt.meta={selector:"[*virtual]",inputs:["mode","width","gutter"]};var Mt=function(e){function o(){return e.apply(this,arguments)||this}a(o,e);var s=o.prototype;return s.onInit=function(){this.item={};var e=t.getContext(this).node;e.classList.add("youtube"),o.MOBILE&&e.classList.add("mobile"),this.progress=e.querySelector(".icon--play-progress path"),this.onPlayerReady=this.onPlayerReady.bind(this),this.onPlayerStateChange=this.onPlayerStateChange.bind(this),this.onPlayerError=this.onPlayerError.bind(this),this.id$=(new i.Subject).pipe(n.distinctUntilChanged())},s.onChanges=function(t){var e=this.youtubeId;this.id$.next(e)},s.initPlayer=function(){this.player$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){console.log("YoutubeComponent.player$",t)})),this.id$.next(this.youtubeId)},s.player$=function(){var e=this,i=t.getContext(this).node,r=i.querySelector(".video");return this.id$.pipe(n.switchMap((function(t){return o.once$().pipe(n.map((function(n){return e.destroyPlayer(),e.player=new n.Player(r,{width:i.offsetWidth,height:i.offsetHeight,videoId:t,playerVars:{autoplay:1,controls:1,disablekb:1,enablejsapi:1,fs:1,loop:1,modestbranding:1,playsinline:1,rel:0,showinfo:0,iv_load_policy:3,listType:"user_uploads"},events:{onReady:e.onPlayerReady,onStateChange:e.onPlayerStateChange,onPlayerError:e.onPlayerError}}),e.player})))})))},s.onPlayerReady=function(t){t.target.mute(),t.target.playVideo()},s.onPlayerStateChange=function(t){1===t.data?this.playing=!0:this.playing=!1},s.onPlayerError=function(t){console.log("YoutubeComponent.onPlayerError",t)},s.destroyPlayer=function(){this.player&&this.player.destroy()},s.onDestroy=function(){this.destroyPlayer()},s.interval$=function(){var t=this;return i.interval(500).pipe(n.filter((function(){return t.playing&&t.player})),n.tap((function(){t.progress&&(t.progress.style.strokeDashoffset=t.player.getCurrentTime()/t.player.getDuration())})))},s.togglePlay=function(){this.playing?this.pause():this.play()},s.play=function(){this.player?this.player.playVideo():this.initPlayer()},s.pause=function(){this.player&&this.player.stopVideo()},o.once$=function(){if(this.youtube$)return this.youtube$;this.youtube$=new i.BehaviorSubject(null).pipe(n.filter((function(t){return null!==t}))),window.onYouTubeIframeAPIReady=this.onYouTubeIframeAPIReady_.bind(this);var t=document.createElement("script"),e=document.querySelectorAll("script"),o=e[e.length-1];return o.parentNode.insertBefore(t,o),t.src="//www.youtube.com/iframe_api",this.youtube$},o.onYouTubeIframeAPIReady_=function(){this.youtube$.next(window.YT)},o.mobilecheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},o.mobileAndTabletcheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},r(o,[{key:"playing",get:function(){return this.playing_},set:function(t){this.playing_!==t&&(this.playing_=t,this.pushChanges())}},{key:"cover",get:function(){return this.youtubeId?"//i.ytimg.com/vi/"+this.youtubeId+"/hqdefault.jpg":""}}]),o}(t.Component);Mt.MOBILE=Mt.mobileAndTabletcheck(),Mt.meta={selector:"[youtube]",inputs:["youtubeId"],template:'\n\t\t<div class="picture--video" [class]="{ playing: playing }" (click)="togglePlay($event)">\n\t\t\t<div class="video"></div>\n\t\t\t<div class="overlay"><img [src]="cover" /></div>\n\t\t\t<div class="btn--youtube" aria-label="Play">\n\t\t\t\t<svg height="100%" version="1.1" viewBox="0 0 68 48" width="100%">\n\t\t\t\t\t<path class="button" d="M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z"></path>\n\t\t\t\t\t<path class="icon" d="M 45,24 27,14 27,34"></path>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div>\n\t'};var zt=function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(t.Module);zt.meta={imports:[t.CoreModule,e.FormModule],declarations:[u,l,f,d,U,_,j,q,N,P,D,V,B,J,X,Q,K,z,H,Z,G,it,et,rt,st,pt,dt,R,mt,gt,bt,wt,Ct,Ot,Lt,Rt,Ut,jt,tt,Dt,Mt],bootstrap:h},t.Browser.bootstrap(zt)}));
//# sourceMappingURL=main.min.js.map