<!-- @@master = ./templates/layout.html { "baseHref": "/stipa/" } -->

<!-- @@block = main-->

<!-- @@include ./templates/shared/header.html { "path": "<ul class=\"nav--path\"><li>Magazine</li></ul>" } -->

<section class="section--hero-magazine">
	<picture class="picture">
		<source media="(max-width: 767px)" srcset="/stipa/img/magazine/hero.jpg">
		<source media="(min-width: 768px)" srcset="/stipa/img/magazine/hero@2x.jpg">
		<img loading="lazy" src="/stipa/img/magazine/hero@2x.jpg" alt="Image title" ondragstart="return false;">
	</picture>
	<div class="container">
		<div class="date">Set. 16, 2020</div>
		<h3 class="title">MV Agusta accoglie i suoi visitatori con un look tutto nuovo!</h3>
		<div class="group--cta">
			<a href="/stipa/magazine-detail.html" class="btn--card"><span class="badge"></span> <span class="label">Leggi l'articolo</span></a>
		</div>
	</div>
</section>

<section class="section--magazine" magazine>
	<div class="container">
		<div class="group--title-filters">
			<h1 class="title">Magazine</h1>
			<!-- filters -->
			<div class="group--filters">
				<div class="listing--filters" *if="items.length">
					<div class="listing__item">
						<div filter-dropdown label="Filtra per" [filter]="filters.category"></div>
					</div>
					<div class="listing__item">
						<div filter-dropdown label="oppure per" [filter]="filters.year"></div>
					</div>
				</div>
				<div class="listing--options">
					<span *for="let [key, filter] of filters">
						<span *for="let item of filter.options">
							<button type="button" class="btn--option" *if="filter.has(item)" (click)="filter.remove(item)">
								<span class="name" [innerHTML]="item.label"></span> <svg class="close"><use xlink:href="#close"></use></svg>
							</button>
						</span>
					</span>
				</div>
			</div>
		</div>
		<!-- results -->
		<div class="listing--magazine">
			<div class="listing__item" *for="let item of items">
				<div class="card--magazine">
					<div class="picture" *if="item.image"><img loading="lazy" [src]="item.image"></div>
					<div class="content" appear-stagger>
						<div class="date" [innerHTML]="item.date"></div>
						<h3 class="title" [innerHTML]="item.title"></h3>
						<div class="group--cta">
							<a [href]="item.url" class="btn--card"><span class="badge"></span> <span class="label">Leggi l'articolo</span></a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- spinner -->
		<div class="spinner" *if="busy"></div>
	</div>
</section>

<!-- @@close-->
